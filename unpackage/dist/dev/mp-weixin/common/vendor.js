"use strict";const Ja=(e,t)=>{const n=e.__vccOpts||e;for(const[o,s]of t)n[o]=s;return n};function bt(e,t){const n=Object.create(null),o=e.split(",");for(let s=0;s<o.length;s++)n[o[s]]=!0;return t?s=>!!n[s.toLowerCase()]:s=>!!n[s]}const Ga=e=>G(e)?e:e==null?"":L(e)||V(e)&&(e.toString===li||!x(e.toString))?JSON.stringify(e,ii,2):String(e),ii=(e,t)=>t&&t.__v_isRef?ii(e,t.value):Ke(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[o,s])=>(n[`${o} =>`]=s,n),{})}:ui(t)?{[`Set(${t.size})`]:[...t.values()]}:V(t)&&!L(t)&&!J(t)?String(t):t,z=Object.freeze({}),$s=Object.freeze([]),X=()=>{},ci=()=>!1,Ya=/^on[^a-z]/,ai=e=>Ya.test(e),Rs=e=>e.startsWith("onUpdate:"),q=Object.assign,kn=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},Qa=Object.prototype.hasOwnProperty,$=(e,t)=>Qa.call(e,t),L=Array.isArray,Ke=e=>ye(e)==="[object Map]",ui=e=>ye(e)==="[object Set]",x=e=>typeof e=="function",G=e=>typeof e=="string",zo=e=>typeof e=="symbol",V=e=>e!==null&&typeof e=="object",Ht=e=>V(e)&&x(e.then)&&x(e.catch),li=Object.prototype.toString,ye=e=>li.call(e),$n=e=>ye(e).slice(8,-1),J=e=>ye(e)==="[object Object]",Jo=e=>G(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Xa=bt(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Za=bt("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),Rn=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},eu=/-(\w)/g,Se=Rn(e=>e.replace(eu,(t,n)=>n?n.toUpperCase():"")),tu=/\B([A-Z])/g,ut=Rn(e=>e.replace(tu,"-$1").toLowerCase()),Ye=Rn(e=>e.charAt(0).toUpperCase()+e.slice(1)),Me=Rn(e=>e?`on${Ye(e)}`:""),$t=(e,t)=>!Object.is(e,t),an=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},nu=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},ou=e=>{const t=parseFloat(e);return isNaN(t)?e:t},su=`
`,ru="d",qt="onShow",Bt="onHide",Go="onLaunch",Yo="onError",fi="onThemeChange",di="onPageNotFound",pi="onUnhandledRejection",Kt="onLoad",Qo="onReady",Xo="onUnload",hi="onInit",gi="onSaveExitState",mi="onResize",_i="onBackPress",yi="onPageScroll",Zo="onTabItemTap",es="onReachBottom",ts="onPullDownRefresh",bi="onShareTimeline",ns="onAddToFavorites",wi="onShareAppMessage",vi="onNavigationBarButtonTap",Si="onNavigationBarSearchInputClicked",Pi="onNavigationBarSearchInputChanged",Ii="onNavigationBarSearchInputConfirmed",Ai="onNavigationBarSearchInputFocusChanged",iu=/:/g;function cu(e){return Se(e.replace(iu,"-"))}function au(e){return e.indexOf("/")===0}function uu(e){return au(e)?e:"/"+e}const lu=(e,t)=>{let n;for(let o=0;o<e.length;o++)n=e[o](t);return n};function xi(e,t=null){let n;return(...o)=>(e&&(n=e.apply(t,o),e=null),n)}function Oi(e,t){if(!G(t))return;t=t.replace(/\[(\d+)\]/g,".$1");const n=t.split(".");let o=n[0];return e||(e={}),n.length===1?e[o]:Oi(e[o],n.slice(1).join("."))}function os(e){let t={};return J(e)&&Object.keys(e).sort().forEach(n=>{const o=n;t[o]=e[o]}),Object.keys(t)?t:e}const fu=encodeURIComponent;function du(e,t=fu){const n=e?Object.keys(e).map(o=>{let s=e[o];return typeof s===void 0||s===null?s="":J(s)&&(s=JSON.stringify(s)),t(o)+"="+t(s)}).filter(o=>o.length>0).join("&"):null;return n?`?${n}`:""}const pu=[hi,Kt,qt,Bt,Xo,_i,yi,Zo,es,ts,bi,wi,ns,gi,vi,Si,Pi,Ii,Ai];function hu(e){return pu.indexOf(e)>-1}const Ti=[qt,Bt,Go,Yo,fi,di,pi,hi,Kt,Qo,Xo,mi,_i,yi,Zo,es,ts,bi,ns,wi,gi,vi,Si,Pi,Ii,Ai],ho=(()=>({onPageScroll:1,onShareAppMessage:1<<1,onShareTimeline:1<<2}))();function Ci(e,t,n=!0){return n&&!x(t)?!1:Ti.indexOf(e)>-1?!0:e.indexOf("on")===0}let go;const Ei=[];function gu(e){if(go)return e(go);Ei.push(e)}function mu(e){go=e,Ei.forEach(t=>t(e))}const _u=xi((e,t)=>{if(x(e._component.onError))return t(e)}),ki=function(){};ki.prototype={on:function(e,t,n){var o=this.e||(this.e={});return(o[e]||(o[e]=[])).push({fn:t,ctx:n}),this},once:function(e,t,n){var o=this;function s(){o.off(e,s),t.apply(n,arguments)}return s._=t,this.on(e,s,n)},emit:function(e){var t=[].slice.call(arguments,1),n=((this.e||(this.e={}))[e]||[]).slice(),o=0,s=n.length;for(o;o<s;o++)n[o].fn.apply(n[o].ctx,t);return this},off:function(e,t){var n=this.e||(this.e={}),o=n[e],s=[];if(o&&t)for(var r=0,i=o.length;r<i;r++)o[r].fn!==t&&o[r].fn._!==t&&s.push(o[r]);return s.length?n[e]=s:delete n[e],this}};var yu=ki;const bu=e=>e!==null&&typeof e=="object",wu=["{","}"];class vu{constructor(){this._caches=Object.create(null)}interpolate(t,n,o=wu){if(!n)return[t];let s=this._caches[t];return s||(s=Iu(t,o),this._caches[t]=s),Au(s,n)}}const Su=/^(?:\d)+/,Pu=/^(?:\w)+/;function Iu(e,[t,n]){const o=[];let s=0,r="";for(;s<e.length;){let i=e[s++];if(i===t){r&&o.push({type:"text",value:r}),r="";let c="";for(i=e[s++];i!==void 0&&i!==n;)c+=i,i=e[s++];const u=i===n,a=Su.test(c)?"list":u&&Pu.test(c)?"named":"unknown";o.push({value:c,type:a})}else r+=i}return r&&o.push({type:"text",value:r}),o}function Au(e,t){const n=[];let o=0;const s=Array.isArray(t)?"list":bu(t)?"named":"unknown";if(s==="unknown")return n;for(;o<e.length;){const r=e[o];switch(r.type){case"text":n.push(r.value);break;case"list":n.push(t[parseInt(r.value,10)]);break;case"named":s==="named"?n.push(t[r.value]):console.warn(`Type of token '${r.type}' and format of value '${s}' don't match!`);break;case"unknown":console.warn("Detect 'unknown' type of token!");break}o++}return n}const zn="zh-Hans",Ls="zh-Hant",$e="en",xu="fr",Ou="es",Tu=Object.prototype.hasOwnProperty,Ns=(e,t)=>Tu.call(e,t),Cu=new vu;function Eu(e,t){return!!t.find(n=>e.indexOf(n)!==-1)}function ku(e,t){return t.find(n=>e.indexOf(n)===0)}function dn(e,t){if(!e)return;if(e=e.trim().replace(/_/g,"-"),t&&t[e])return e;if(e=e.toLowerCase(),e==="chinese")return zn;if(e.indexOf("zh")===0)return e.indexOf("-hans")>-1?zn:e.indexOf("-hant")>-1||Eu(e,["-tw","-hk","-mo","-cht"])?Ls:zn;let n=[$e,xu,Ou];t&&Object.keys(t).length>0&&(n=Object.keys(t));const o=ku(e,n);if(o)return o}class $u{constructor({locale:t,fallbackLocale:n,messages:o,watcher:s,formater:r}){this.locale=$e,this.fallbackLocale=$e,this.message={},this.messages={},this.watchers=[],n&&(this.fallbackLocale=n),this.formater=r||Cu,this.messages=o||{},this.setLocale(t||$e),s&&this.watchLocale(s)}setLocale(t){const n=this.locale;this.locale=dn(t,this.messages)||this.fallbackLocale,this.messages[this.locale]||(this.messages[this.locale]={}),this.message=this.messages[this.locale],n!==this.locale&&this.watchers.forEach(o=>{o(this.locale,n)})}getLocale(){return this.locale}watchLocale(t){const n=this.watchers.push(t)-1;return()=>{this.watchers.splice(n,1)}}add(t,n,o=!0){const s=this.messages[t];s?o?Object.assign(s,n):Object.keys(n).forEach(r=>{Ns(s,r)||(s[r]=n[r])}):this.messages[t]=n}f(t,n,o){return this.formater.interpolate(t,n,o).join("")}t(t,n,o){let s=this.message;return typeof n=="string"?(n=dn(n,this.messages),n&&(s=this.messages[n])):o=n,Ns(s,t)?this.formater.interpolate(s[t],o).join(""):(console.warn(`Cannot translate the value of keypath ${t}. Use the value of keypath as default.`),t)}}function Ru(e,t){e.$watchLocale?e.$watchLocale(n=>{t.setLocale(n)}):e.$watch(()=>e.$locale,n=>{t.setLocale(n)})}function Lu(){return typeof U<"u"&&U.getLocale?U.getLocale():typeof global<"u"&&global.getLocale?global.getLocale():$e}function Nu(e,t={},n,o){typeof e!="string"&&([e,t]=[t,e]),typeof e!="string"&&(e=Lu()),typeof n!="string"&&(n=typeof __uniConfig<"u"&&__uniConfig.fallbackLocale||$e);const s=new $u({locale:e,fallbackLocale:n,messages:t,watcher:o});let r=(i,c)=>{if(typeof getApp!="function")r=function(u,a){return s.t(u,a)};else{let u=!1;r=function(a,f){const l=getApp().$vm;return l&&(l.$locale,u||(u=!0,Ru(l,s))),s.t(a,f)}}return r(i,c)};return{i18n:s,f(i,c,u){return s.f(i,c,u)},t(i,c){return r(i,c)},add(i,c,u=!0){return s.add(i,c,u)},watch(i){return s.watchLocale(i)},getLocale(){return s.getLocale()},setLocale(i){return s.setLocale(i)}}}function Du(){return wx.getSystemInfoSync()}function ju(e,t){console.warn(`${e}: ${t}`)}function Ds(e,t,n,o){o||(o=ju);for(const s in n){const r=Mu(s,t[s],n[s],!$(t,s));G(r)&&o(e,r)}}function Uu(e,t,n,o){if(!n)return;if(!L(n))return Ds(e,t[0]||Object.create(null),n,o);const s=n.length,r=t.length;for(let i=0;i<s;i++){const c=n[i],u=Object.create(null);r>i&&(u[c.name]=t[i]),Ds(e,u,{[c.name]:c},o)}}function Mu(e,t,n,o){J(n)||(n={type:n});const{type:s,required:r,validator:i}=n;if(r&&o)return'Missing required args: "'+e+'"';if(!(t==null&&!r)){if(s!=null){let c=!1;const u=L(s)?s:[s],a=[];for(let f=0;f<u.length&&!c;f++){const{valid:l,expectedType:p}=Hu(t,u[f]);a.push(p||""),c=l}if(!c)return qu(e,t,a)}if(i)return i(t)}}const Fu=bt("String,Number,Boolean,Function,Symbol");function Hu(e,t){let n;const o=Bu(t);if(Fu(o)){const s=typeof e;n=s===o.toLowerCase(),!n&&s==="object"&&(n=e instanceof t)}else o==="Object"?n=V(e):o==="Array"?n=L(e):n=e instanceof t;return{valid:n,expectedType:o}}function qu(e,t,n){let o=`Invalid args: type check failed for args "${e}". Expected ${n.map(Ye).join(", ")}`;const s=n[0],r=$n(t),i=js(t,s),c=js(t,r);return n.length===1&&Us(s)&&!Ku(s,r)&&(o+=` with value ${i}`),o+=`, got ${r} `,Us(r)&&(o+=`with value ${c}.`),o}function Bu(e){const t=e&&e.toString().match(/^\s*function (\w+)/);return t?t[1]:""}function js(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function Us(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function Ku(...e){return e.some(t=>t.toLowerCase()==="boolean")}function Vu(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}let Wu=1;const mo={};function zu(e,t,n,o=!1){return mo[e]={name:t,keepAlive:o,callback:n},e}function $i(e,t,n){if(typeof e=="number"){const o=mo[e];if(o)return o.keepAlive||delete mo[e],o.callback(t,n)}return t}const Ju="success",Gu="fail",Yu="complete";function Qu(e){const t={};for(const n in e){const o=e[n];x(o)&&(t[n]=Vu(o),delete e[n])}return t}function Xu(e,t){return!e||e.indexOf(":fail")===-1?t+":ok":t+e.substring(e.indexOf(":fail"))}function Zu(e,t={},{beforeAll:n,beforeSuccess:o}={}){J(t)||(t={});const{success:s,fail:r,complete:i}=Qu(t),c=x(s),u=x(r),a=x(i),f=Wu++;return zu(f,e,l=>{l=l||{},l.errMsg=Xu(l.errMsg,e),x(n)&&n(l),l.errMsg===e+":ok"?(x(o)&&o(l,t),c&&s(l)):u&&r(l),a&&i(l)}),f}const el="success",tl="fail",nl="complete",lt={},ft={};function ol(e,t){return function(n){return e(n,t)||n}}function Ri(e,t,n){let o=!1;for(let s=0;s<e.length;s++){const r=e[s];if(o)o=Promise.resolve(ol(r,n));else{const i=r(t,n);if(Ht(i)&&(o=Promise.resolve(i)),i===!1)return{then(){},catch(){}}}}return o||{then(s){return s(t)},catch(){}}}function Ms(e,t={}){return[el,tl,nl].forEach(n=>{const o=e[n];if(!L(o))return;const s=t[n];t[n]=function(i){Ri(o,i,t).then(c=>x(s)&&s(c)||c)}}),t}function pn(e,t){const n=[];L(lt.returnValue)&&n.push(...lt.returnValue);const o=ft[e];return o&&L(o.returnValue)&&n.push(...o.returnValue),n.forEach(s=>{t=s(t)||t}),t}function Fs(e){const t=Object.create(null);Object.keys(lt).forEach(o=>{o!=="returnValue"&&(t[o]=lt[o].slice())});const n=ft[e];return n&&Object.keys(n).forEach(o=>{o!=="returnValue"&&(t[o]=(t[o]||[]).concat(n[o]))}),t}function hn(e,t,n,o){const s=Fs(e);return s&&Object.keys(s).length?L(s.invoke)?Ri(s.invoke,n).then(i=>t(Ms(Fs(e),i),...o)):t(Ms(s,n),...o):t(n,...o)}function sl(e){return!!(J(e)&&[Ju,Gu,Yu].find(t=>x(e[t])))}function rl(e,t){return(n={},...o)=>sl(n)?pn(e,hn(e,t,n,o)):pn(e,new Promise((s,r)=>{hn(e,t,q(n,{success:s,fail:r}),o)}))}function il(e,t){const n=e[0];if(!t||!J(t.formatArgs)&&J(n))return;const o=t.formatArgs,s=Object.keys(o);for(let r=0;r<s.length;r++){const i=s[r],c=o[i];if(x(c)){const u=c(e[0][i],n);if(G(u))return u}else $(n,i)||(n[i]=c)}}function cl(e,t,n){return $i(e,q(n||{},{errMsg:t+":ok"}))}function Hs(e,t,n,o){return $i(e,q({errMsg:t+":fail"+(n?" "+n:"")},o))}function Li(e,t,n,o){if(Uu(e,t,n),o&&o.beforeInvoke){const r=o.beforeInvoke(t);if(G(r))return r}const s=il(t,o);if(s)return s}function al(e){return!e||G(e)?e:e.stack?(console.error(e.message+su+e.stack),e.message):e}function ul(e,t,n,o){return s=>{const r=Zu(e,s,o),i=Li(e,[s],n,o);return i?Hs(r,e,i):t(s,{resolve:c=>cl(r,e,c),reject:(c,u)=>Hs(r,e,al(c),u)})}}function ll(e,t,n,o){return(...s)=>{const r=Li(e,s,n,o);if(r)throw new Error(r);return t.apply(null,s)}}function fl(e,t,n,o){return ul(e,t,n,o)}function tt(e,t,n,o){return ll(e,t,n,o)}function dl(e,t,n,o){return rl(e,fl(e,t,n,o))}const pl="upx2px",hl=[{name:"upx",type:[Number,String],required:!0}],gl=1e-4,ml=750;let Ni=!1,_o=0,Di=0;function _l(){const{platform:e,pixelRatio:t,windowWidth:n}=Du();_o=n,Di=t,Ni=e==="ios"}const yl=tt(pl,(e,t)=>{if(_o===0&&_l(),e=Number(e),e===0)return 0;let n=t||_o,o=e/ml*n;return o<0&&(o=-o),o=Math.floor(o+gl),o===0&&(Di===1||!Ni?o=1:o=.5),e<0?-o:o},hl),bl="addInterceptor",wl="removeInterceptor",ji=[{name:"method",type:[String,Object],required:!0}],vl=ji;function qs(e,t){Object.keys(t).forEach(n=>{x(t[n])&&(e[n]=Sl(e[n],t[n]))})}function Bs(e,t){!e||!t||Object.keys(t).forEach(n=>{const o=e[n],s=t[n];L(o)&&x(s)&&kn(o,s)})}function Sl(e,t){const n=t?e?e.concat(t):L(t)?t:[t]:e;return n&&Pl(n)}function Pl(e){const t=[];for(let n=0;n<e.length;n++)t.indexOf(e[n])===-1&&t.push(e[n]);return t}const Il=tt(bl,(e,t)=>{G(e)&&J(t)?qs(ft[e]||(ft[e]={}),t):J(e)&&qs(lt,e)},ji),Al=tt(wl,(e,t)=>{G(e)?J(t)?Bs(ft[e],t):delete ft[e]:J(e)&&Bs(lt,e)},vl),xl={},Ol="$on",Ui=[{name:"event",type:String,required:!0},{name:"callback",type:Function,required:!0}],Tl="$once",Cl=Ui,El="$off",kl=[{name:"event",type:[String,Array]},{name:"callback",type:Function}],$l="$emit",Rl=[{name:"event",type:String,required:!0}],Qe=new yu,Ll=tt(Ol,(e,t)=>(Qe.on(e,t),()=>Qe.off(e,t)),Ui),Nl=tt(Tl,(e,t)=>(Qe.once(e,t),()=>Qe.off(e,t)),Cl),Dl=tt(El,(e,t)=>{if(!e){Qe.e={};return}L(e)||(e=[e]),e.forEach(n=>Qe.off(n,t))},kl),jl=tt($l,(e,...t)=>{Qe.emit(e,...t)},Rl);let Tt,yo,bo;function Ks(e){try{return JSON.parse(e)}catch{}return e}function Ul(e){if(e.type==="enabled")bo=!0;else if(e.type==="clientId")Tt=e.cid,yo=e.errMsg,Mi(Tt,e.errMsg);else if(e.type==="pushMsg"){const t={type:"receive",data:Ks(e.message)};for(let n=0;n<Re.length;n++){const o=Re[n];if(o(t),t.stopped)break}}else e.type==="click"&&Re.forEach(t=>{t({type:"click",data:Ks(e.message)})})}const wo=[];function Mi(e,t){wo.forEach(n=>{n(e,t)}),wo.length=0}const Ml="getPushClientId",Fl=dl(Ml,(e,{resolve:t,reject:n})=>{Promise.resolve().then(()=>{typeof bo>"u"&&(bo=!1,Tt="",yo="uniPush is not enabled"),wo.push((o,s)=>{o?t({cid:o}):n(s)}),typeof Tt<"u"&&Mi(Tt,yo)})}),Re=[],Hl=e=>{Re.indexOf(e)===-1&&Re.push(e)},ql=e=>{if(!e)Re.length=0;else{const t=Re.indexOf(e);t>-1&&Re.splice(t,1)}},Bl=/^\$|getLocale|setLocale|sendNativeEvent|restoreGlobal|requireGlobal|getCurrentSubNVue|getMenuButtonBoundingClientRect|^report|interceptors|Interceptor$|getSubNVueById|requireNativePlugin|upx2px|hideKeyboard|canIUse|^create|Sync$|Manager$|base64ToArrayBuffer|arrayBufferToBase64|getDeviceInfo|getAppBaseInfo|getWindowInfo|getSystemSetting|getAppAuthorizeSetting/,Kl=/^create|Manager$/,Vl=["createBLEConnection"],Wl=["createBLEConnection"],zl=/^on|^off/;function Fi(e){return Kl.test(e)&&Vl.indexOf(e)===-1}function Hi(e){return Bl.test(e)&&Wl.indexOf(e)===-1}function Jl(e){return zl.test(e)&&e!=="onPush"}function Gl(e){return!(Fi(e)||Hi(e)||Jl(e))}Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then(n=>t.resolve(e&&e()).then(()=>n),n=>t.resolve(e&&e()).then(()=>{throw n}))});function Jn(e,t){return!Gl(e)||!x(t)?t:function(o={},...s){return x(o.success)||x(o.fail)||x(o.complete)?pn(e,hn(e,t,o,s)):pn(e,new Promise((r,i)=>{hn(e,t,q({},o,{success:r,fail:i}),s)}))}}const Yl=["success","fail","cancel","complete"];function Ql(e){function t(s,r,i){return function(c){return r(o(s,c,i))}}function n(s,r,i={},c={},u=!1){if(J(r)){const a=u===!0?r:{};x(i)&&(i=i(r,a)||{});for(const f in r)if($(i,f)){let l=i[f];x(l)&&(l=l(r[f],r,a)),l?G(l)?a[l]=r[f]:J(l)&&(a[l.name?l.name:f]=l.value):console.warn(`微信小程序 ${s} 暂不支持 ${f}`)}else if(Yl.indexOf(f)!==-1){const l=r[f];x(l)&&(a[f]=t(s,l,c))}else!u&&!$(a,f)&&(a[f]=r[f]);return a}else x(r)&&(r=t(s,r,c));return r}function o(s,r,i,c=!1){return x(e.returnValue)&&(r=e.returnValue(s,r)),n(s,r,i,{},c)}return function(r,i){if(!$(e,r))return i;const c=e[r];return c?function(u,a){let f=c;x(c)&&(f=c(u)),u=n(r,u,f.args,f.returnValue);const l=[u];typeof a<"u"&&l.push(a);const p=wx[f.name||r].apply(wx,l);return Hi(r)?o(r,p,f.returnValue,Fi(r)):p}:function(){console.error(`微信小程序 暂不支持${r}`)}}}const gn=()=>{const e=x(getApp)&&getApp({allowDefault:!0});return e&&e.$vm?e.$vm.$locale:dn(wx.getSystemInfoSync().language)||$e},Xl=e=>{const t=x(getApp)&&getApp();return t&&t.$vm.$locale!==e?(t.$vm.$locale=e,vo.forEach(o=>o({locale:e})),!0):!1},vo=[],Zl=e=>{vo.indexOf(e)===-1&&vo.push(e)};typeof global<"u"&&(global.getLocale=gn);const Vs="__DC_STAT_UUID";let ot;function qi(e=wx){return function(n,o){ot=ot||e.getStorageSync(Vs),ot||(ot=Date.now()+""+Math.floor(Math.random()*1e7),wx.setStorage({key:Vs,data:ot})),o.deviceId=ot}}function Bi(e,t){if(e.safeArea){const n=e.safeArea;t.safeAreaInsets={top:n.top,left:n.left,right:e.windowWidth-n.right,bottom:e.screenHeight-n.bottom}}}function ef(e,t){const{brand:n="",model:o="",system:s="",language:r="",theme:i,version:c,platform:u,fontSizeSetting:a,SDKVersion:f,pixelRatio:l,deviceOrientation:p}=e;let g="",_="";g=s.split(" ")[0]||"",_=s.split(" ")[1]||"";let h=c,d=Ki(e,o),m=Vi(n),b=zi(e),y=p,w=l,A=f;const E=r.replace(/_/g,"-"),T={appId:"__UNI__A0E47FA",appName:"WarmlyArticle",appVersion:"1.0.0",appVersionCode:"100",appLanguage:Wi(E),uniCompileVersion:"3.8.7",uniRuntimeVersion:"3.8.7",uniPlatform:"mp-weixin",deviceBrand:m,deviceModel:o,deviceType:d,devicePixelRatio:w,deviceOrientation:y,osName:g.toLocaleLowerCase(),osVersion:_,hostTheme:i,hostVersion:h,hostLanguage:E,hostName:b,hostSDKVersion:A,hostFontSizeSetting:a,windowTop:0,windowBottom:0,osLanguage:void 0,osTheme:void 0,ua:void 0,hostPackageName:void 0,browserName:void 0,browserVersion:void 0};q(t,T)}function Ki(e,t){let n=e.deviceType||"phone";{const o={ipad:"pad",windows:"pc",mac:"pc"},s=Object.keys(o),r=t.toLocaleLowerCase();for(let i=0;i<s.length;i++){const c=s[i];if(r.indexOf(c)!==-1){n=o[c];break}}}return n}function Vi(e){let t=e;return t&&(t=t.toLocaleLowerCase()),t}function Wi(e){return gn?gn():e}function zi(e){const t="WeChat";let n=e.hostName||t;return e.environment?n=e.environment:e.host&&e.host.env&&(n=e.host.env),n}const Ji={returnValue:(e,t)=>{Bi(e,t),qi()(e,t),ef(e,t)}},tf=Ji,nf={},of={args(e,t){let n=parseInt(e.current);if(isNaN(n))return;const o=e.urls;if(!L(o))return;const s=o.length;if(s)return n<0?n=0:n>=s&&(n=s-1),n>0?(t.current=o[n],t.urls=o.filter((r,i)=>i<n?r!==o[n]:!0)):t.current=o[0],{indicator:!1,loop:!1}}},sf={args(e,t){t.alertText=e.title}},rf={returnValue:(e,t)=>{const{brand:n,model:o}=e;let s=Ki(e,o),r=Vi(n);qi()(e,t),t=os(q(t,{deviceType:s,deviceBrand:r,deviceModel:o}))}},cf={returnValue:(e,t)=>{const{version:n,language:o,SDKVersion:s,theme:r}=e;let i=zi(e),c=o.replace(/_/g,"-");t=os(q(t,{hostVersion:n,hostLanguage:c,hostName:i,hostSDKVersion:s,hostTheme:r,appId:"__UNI__A0E47FA",appName:"WarmlyArticle",appVersion:"1.0.0",appVersionCode:"100",appLanguage:Wi(c)}))}},af={returnValue:(e,t)=>{Bi(e,t),t=os(q(t,{windowTop:0,windowBottom:0}))}},uf={returnValue:function(e,t){const{locationReducedAccuracy:n}=e;t.locationAccuracy="unsupported",n===!0?t.locationAccuracy="reduced":n===!1&&(t.locationAccuracy="full")}},Ws={$on:Ll,$off:Dl,$once:Nl,$emit:jl,upx2px:yl,interceptors:xl,addInterceptor:Il,removeInterceptor:Al,onCreateVueApp:gu,invokeCreateVueAppHook:mu,getLocale:gn,setLocale:Xl,onLocaleChange:Zl,getPushClientId:Fl,onPushMessage:Hl,offPushMessage:ql,invokePushCallback:Ul};function lf(e,t,n=wx){const o=Ql(t),s={get(r,i){return $(r,i)?r[i]:$(e,i)?Jn(i,e[i]):$(Ws,i)?Jn(i,Ws[i]):Jn(i,o(i,n[i]))}};return new Proxy({},s)}function ff(e){return function({service:n,success:o,fail:s,complete:r}){let i;e[n]?(i={errMsg:"getProvider:ok",service:n,provider:e[n]},x(o)&&o(i)):(i={errMsg:"getProvider:fail:服务["+n+"]不存在"},x(s)&&s(i)),x(r)&&r(i)}}const df=["qy","env","error","version","lanDebug","cloud","serviceMarket","router","worklet"],pf=["lanDebug","router","worklet"],zs=wx.getLaunchOptionsSync?wx.getLaunchOptionsSync():null;function hf(e){return zs&&zs.scene===1154&&pf.includes(e)?!1:df.indexOf(e)>-1||typeof wx[e]=="function"}function Gi(){let e=wx;typeof globalThis<"u"&&globalThis.wx&&wx!==globalThis.wx&&(e=globalThis.wx);const t={};for(const n in e)hf(n)&&(t[n]=e[n]);return typeof globalThis<"u"&&(globalThis.wx=t),t}const gf=["__route__","__wxExparserNodeId__","__wxWebviewId__"],mf=ff({oauth:["weixin"],share:["weixin"],payment:["wxpay"],push:["weixin"]});function _f(e){const t=Object.create(null);return gf.forEach(n=>{t[n]=e[n]}),t}function yf(){const e=dt.createSelectorQuery(),t=e.in;return e.in=function(o){return t.call(this,_f(o))},e}const dt=Gi();let mn=dt.getAppBaseInfo&&dt.getAppBaseInfo();mn||(mn=dt.getSystemInfoSync());const Js=mn?mn.host:null,bf=Js&&Js.env==="SAAASDK"?dt.miniapp.shareVideoMessage:dt.shareVideoMessage;var wf=Object.freeze({__proto__:null,createSelectorQuery:yf,getProvider:mf,shareVideoMessage:bf});const vf={args(e,t){e.compressedHeight&&!t.compressHeight&&(t.compressHeight=e.compressedHeight),e.compressedWidth&&!t.compressWidth&&(t.compressWidth=e.compressedWidth)}};var Sf=Object.freeze({__proto__:null,compressImage:vf,getAppAuthorizeSetting:uf,getAppBaseInfo:cf,getDeviceInfo:rf,getSystemInfo:Ji,getSystemInfoSync:tf,getWindowInfo:af,previewImage:of,redirectTo:nf,showActionSheet:sf});const un=Gi();var U=lf(wf,Sf,un);function _n(e,...t){console.warn(`[Vue warn] ${e}`,...t)}let ae;class Yi{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=ae,!t&&ae&&(this.index=(ae.scopes||(ae.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=ae;try{return ae=this,t()}finally{ae=n}}else _n("cannot run an inactive effect scope.")}on(){ae=this}off(){ae=this.parent}stop(t){if(this._active){let n,o;for(n=0,o=this.effects.length;n<o;n++)this.effects[n].stop();for(n=0,o=this.cleanups.length;n<o;n++)this.cleanups[n]();if(this.scopes)for(n=0,o=this.scopes.length;n<o;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const s=this.parent.scopes.pop();s&&s!==this&&(this.parent.scopes[this.index]=s,s.index=this.index)}this.parent=void 0,this._active=!1}}}function Qi(e){return new Yi(e)}function Pf(e,t=ae){t&&t.active&&t.effects.push(e)}function Xi(){return ae}function If(e){ae?ae.cleanups.push(e):_n("onScopeDispose() is called when there is no active effect scope to be associated with.")}const ss=e=>{const t=new Set(e);return t.w=0,t.n=0,t},Zi=e=>(e.w&De)>0,ec=e=>(e.n&De)>0,Af=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=De},xf=e=>{const{deps:t}=e;if(t.length){let n=0;for(let o=0;o<t.length;o++){const s=t[o];Zi(s)&&!ec(s)?s.delete(e):t[n++]=s,s.w&=~De,s.n&=~De}t.length=n}},yn=new WeakMap;let At=0,De=1;const So=30;let te;const Ve=Symbol("iterate"),Po=Symbol("Map key iterate");class rs{constructor(t,n=null,o){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,Pf(this,o)}run(){if(!this.active)return this.fn();let t=te,n=Le;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=te,te=this,Le=!0,De=1<<++At,At<=So?Af(this):Gs(this),this.fn()}finally{At<=So&&xf(this),De=1<<--At,te=this.parent,Le=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){te===this?this.deferStop=!0:this.active&&(Gs(this),this.onStop&&this.onStop(),this.active=!1)}}function Gs(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}let Le=!0;const tc=[];function wt(){tc.push(Le),Le=!1}function vt(){const e=tc.pop();Le=e===void 0?!0:e}function ce(e,t,n){if(Le&&te){let o=yn.get(e);o||yn.set(e,o=new Map);let s=o.get(n);s||o.set(n,s=ss()),nc(s,{effect:te,target:e,type:t,key:n})}}function nc(e,t){let n=!1;At<=So?ec(e)||(e.n|=De,n=!Zi(e)):n=!e.has(te),n&&(e.add(te),te.deps.push(e),te.onTrack&&te.onTrack(Object.assign({effect:te},t)))}function Ie(e,t,n,o,s,r){const i=yn.get(e);if(!i)return;let c=[];if(t==="clear")c=[...i.values()];else if(n==="length"&&L(e)){const a=Number(o);i.forEach((f,l)=>{(l==="length"||l>=a)&&c.push(f)})}else switch(n!==void 0&&c.push(i.get(n)),t){case"add":L(e)?Jo(n)&&c.push(i.get("length")):(c.push(i.get(Ve)),Ke(e)&&c.push(i.get(Po)));break;case"delete":L(e)||(c.push(i.get(Ve)),Ke(e)&&c.push(i.get(Po)));break;case"set":Ke(e)&&c.push(i.get(Ve));break}const u={target:e,type:t,key:n,newValue:o,oldValue:s,oldTarget:r};if(c.length===1)c[0]&&Io(c[0],u);else{const a=[];for(const f of c)f&&a.push(...f);Io(ss(a),u)}}function Io(e,t){const n=L(e)?e:[...e];for(const o of n)o.computed&&Ys(o,t);for(const o of n)o.computed||Ys(o,t)}function Ys(e,t){(e!==te||e.allowRecurse)&&(e.onTrigger&&e.onTrigger(q({effect:e},t)),e.scheduler?e.scheduler():e.run())}function Of(e,t){var n;return(n=yn.get(e))===null||n===void 0?void 0:n.get(t)}const Tf=bt("__proto__,__v_isRef,__isVue"),oc=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(zo)),Cf=Ln(),Ef=Ln(!1,!0),kf=Ln(!0),$f=Ln(!0,!0),Qs=Rf();function Rf(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const o=D(this);for(let r=0,i=this.length;r<i;r++)ce(o,"get",r+"");const s=o[t](...n);return s===-1||s===!1?o[t](...n.map(D)):s}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){wt();const o=D(this)[t].apply(this,n);return vt(),o}}),e}function Lf(e){const t=D(this);return ce(t,"has",e),t.hasOwnProperty(e)}function Ln(e=!1,t=!1){return function(o,s,r){if(s==="__v_isReactive")return!e;if(s==="__v_isReadonly")return e;if(s==="__v_isShallow")return t;if(s==="__v_raw"&&r===(e?t?fc:lc:t?uc:ac).get(o))return o;const i=L(o);if(!e){if(i&&$(Qs,s))return Reflect.get(Qs,s,r);if(s==="hasOwnProperty")return Lf}const c=Reflect.get(o,s,r);return(zo(s)?oc.has(s):Tf(s))||(e||ce(o,"get",s),t)?c:H(c)?i&&Jo(s)?c:c.value:V(c)?e?dc(c):jn(c):c}}const Nf=sc(),Df=sc(!0);function sc(e=!1){return function(n,o,s,r){let i=n[o];if(pt(i)&&H(i)&&!H(s))return!1;if(!e&&(!bn(s)&&!pt(s)&&(i=D(i),s=D(s)),!L(n)&&H(i)&&!H(s)))return i.value=s,!0;const c=L(n)&&Jo(o)?Number(o)<n.length:$(n,o),u=Reflect.set(n,o,s,r);return n===D(r)&&(c?$t(s,i)&&Ie(n,"set",o,s,i):Ie(n,"add",o,s)),u}}function jf(e,t){const n=$(e,t),o=e[t],s=Reflect.deleteProperty(e,t);return s&&n&&Ie(e,"delete",t,void 0,o),s}function Uf(e,t){const n=Reflect.has(e,t);return(!zo(t)||!oc.has(t))&&ce(e,"has",t),n}function Mf(e){return ce(e,"iterate",L(e)?"length":Ve),Reflect.ownKeys(e)}const rc={get:Cf,set:Nf,deleteProperty:jf,has:Uf,ownKeys:Mf},ic={get:kf,set(e,t){return _n(`Set operation on key "${String(t)}" failed: target is readonly.`,e),!0},deleteProperty(e,t){return _n(`Delete operation on key "${String(t)}" failed: target is readonly.`,e),!0}},Ff=q({},rc,{get:Ef,set:Df}),Hf=q({},ic,{get:$f}),is=e=>e,Nn=e=>Reflect.getPrototypeOf(e);function Yt(e,t,n=!1,o=!1){e=e.__v_raw;const s=D(e),r=D(t);n||(t!==r&&ce(s,"get",t),ce(s,"get",r));const{has:i}=Nn(s),c=o?is:n?cs:Rt;if(i.call(s,t))return c(e.get(t));if(i.call(s,r))return c(e.get(r));e!==s&&e.get(t)}function Qt(e,t=!1){const n=this.__v_raw,o=D(n),s=D(e);return t||(e!==s&&ce(o,"has",e),ce(o,"has",s)),e===s?n.has(e):n.has(e)||n.has(s)}function Xt(e,t=!1){return e=e.__v_raw,!t&&ce(D(e),"iterate",Ve),Reflect.get(e,"size",e)}function Xs(e){e=D(e);const t=D(this);return Nn(t).has.call(t,e)||(t.add(e),Ie(t,"add",e,e)),this}function Zs(e,t){t=D(t);const n=D(this),{has:o,get:s}=Nn(n);let r=o.call(n,e);r?cc(n,o,e):(e=D(e),r=o.call(n,e));const i=s.call(n,e);return n.set(e,t),r?$t(t,i)&&Ie(n,"set",e,t,i):Ie(n,"add",e,t),this}function er(e){const t=D(this),{has:n,get:o}=Nn(t);let s=n.call(t,e);s?cc(t,n,e):(e=D(e),s=n.call(t,e));const r=o?o.call(t,e):void 0,i=t.delete(e);return s&&Ie(t,"delete",e,void 0,r),i}function tr(){const e=D(this),t=e.size!==0,n=Ke(e)?new Map(e):new Set(e),o=e.clear();return t&&Ie(e,"clear",void 0,void 0,n),o}function Zt(e,t){return function(o,s){const r=this,i=r.__v_raw,c=D(i),u=t?is:e?cs:Rt;return!e&&ce(c,"iterate",Ve),i.forEach((a,f)=>o.call(s,u(a),u(f),r))}}function en(e,t,n){return function(...o){const s=this.__v_raw,r=D(s),i=Ke(r),c=e==="entries"||e===Symbol.iterator&&i,u=e==="keys"&&i,a=s[e](...o),f=n?is:t?cs:Rt;return!t&&ce(r,"iterate",u?Po:Ve),{next(){const{value:l,done:p}=a.next();return p?{value:l,done:p}:{value:c?[f(l[0]),f(l[1])]:f(l),done:p}},[Symbol.iterator](){return this}}}}function Oe(e){return function(...t){{const n=t[0]?`on key "${t[0]}" `:"";console.warn(`${Ye(e)} operation ${n}failed: target is readonly.`,D(this))}return e==="delete"?!1:this}}function qf(){const e={get(r){return Yt(this,r)},get size(){return Xt(this)},has:Qt,add:Xs,set:Zs,delete:er,clear:tr,forEach:Zt(!1,!1)},t={get(r){return Yt(this,r,!1,!0)},get size(){return Xt(this)},has:Qt,add:Xs,set:Zs,delete:er,clear:tr,forEach:Zt(!1,!0)},n={get(r){return Yt(this,r,!0)},get size(){return Xt(this,!0)},has(r){return Qt.call(this,r,!0)},add:Oe("add"),set:Oe("set"),delete:Oe("delete"),clear:Oe("clear"),forEach:Zt(!0,!1)},o={get(r){return Yt(this,r,!0,!0)},get size(){return Xt(this,!0)},has(r){return Qt.call(this,r,!0)},add:Oe("add"),set:Oe("set"),delete:Oe("delete"),clear:Oe("clear"),forEach:Zt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{e[r]=en(r,!1,!1),n[r]=en(r,!0,!1),t[r]=en(r,!1,!0),o[r]=en(r,!0,!0)}),[e,n,t,o]}const[Bf,Kf,Vf,Wf]=qf();function Dn(e,t){const n=t?e?Wf:Vf:e?Kf:Bf;return(o,s,r)=>s==="__v_isReactive"?!e:s==="__v_isReadonly"?e:s==="__v_raw"?o:Reflect.get($(n,s)&&s in o?n:o,s,r)}const zf={get:Dn(!1,!1)},Jf={get:Dn(!1,!0)},Gf={get:Dn(!0,!1)},Yf={get:Dn(!0,!0)};function cc(e,t,n){const o=D(n);if(o!==n&&t.call(e,o)){const s=$n(e);console.warn(`Reactive ${s} contains both the raw and reactive versions of the same object${s==="Map"?" as keys":""}, which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible.`)}}const ac=new WeakMap,uc=new WeakMap,lc=new WeakMap,fc=new WeakMap;function Qf(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Xf(e){return e.__v_skip||!Object.isExtensible(e)?0:Qf($n(e))}function jn(e){return pt(e)?e:Un(e,!1,rc,zf,ac)}function Zf(e){return Un(e,!1,Ff,Jf,uc)}function dc(e){return Un(e,!0,ic,Gf,lc)}function rt(e){return Un(e,!0,Hf,Yf,fc)}function Un(e,t,n,o,s){if(!V(e))return console.warn(`value cannot be made reactive: ${String(e)}`),e;if(e.__v_raw&&!(t&&e.__v_isReactive))return e;const r=s.get(e);if(r)return r;const i=Xf(e);if(i===0)return e;const c=new Proxy(e,i===2?o:n);return s.set(e,c),c}function ve(e){return pt(e)?ve(e.__v_raw):!!(e&&e.__v_isReactive)}function pt(e){return!!(e&&e.__v_isReadonly)}function bn(e){return!!(e&&e.__v_isShallow)}function ed(e){return ve(e)||pt(e)}function D(e){const t=e&&e.__v_raw;return t?D(t):e}function pe(e){return nu(e,"__v_skip",!0),e}const Rt=e=>V(e)?jn(e):e,cs=e=>V(e)?dc(e):e;function pc(e){Le&&te&&(e=D(e),nc(e.dep||(e.dep=ss()),{target:e,type:"get",key:"value"}))}function hc(e,t){e=D(e);const n=e.dep;n&&Io(n,{target:e,type:"set",key:"value",newValue:t})}function H(e){return!!(e&&e.__v_isRef===!0)}function Vt(e){return td(e,!1)}function td(e,t){return H(e)?e:new nd(e,t)}class nd{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:D(t),this._value=n?t:Rt(t)}get value(){return pc(this),this._value}set value(t){const n=this.__v_isShallow||bn(t)||pt(t);t=n?t:D(t),$t(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Rt(t),hc(this,t))}}function as(e){return H(e)?e.value:e}const od={get:(e,t,n)=>as(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const s=e[t];return H(s)&&!H(n)?(s.value=n,!0):Reflect.set(e,t,n,o)}};function gc(e){return ve(e)?e:new Proxy(e,od)}function nr(e){ed(e)||console.warn("toRefs() expects a reactive object but received a plain one.");const t=L(e)?new Array(e.length):{};for(const n in e)t[n]=Ct(e,n);return t}class sd{constructor(t,n,o){this._object=t,this._key=n,this._defaultValue=o,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return Of(D(this._object),this._key)}}function Ct(e,t,n){const o=e[t];return H(o)?o:new sd(e,t,n)}var mc;class rd{constructor(t,n,o,s){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this[mc]=!1,this._dirty=!0,this.effect=new rs(t,()=>{this._dirty||(this._dirty=!0,hc(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!s,this.__v_isReadonly=o}get value(){const t=D(this);return pc(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}mc="__v_isReadonly";function id(e,t,n=!1){let o,s;const r=x(e);r?(o=e,s=()=>{console.warn("Write operation failed: computed value is readonly")}):(o=e.get,s=e.set);const i=new rd(o,s,r||!s,n);return t&&!n&&(i.effect.onTrack=t.onTrack,i.effect.onTrigger=t.onTrigger),i}const We=[];function us(e){We.push(e)}function ls(){We.pop()}function k(e,...t){wt();const n=We.length?We[We.length-1].component:null,o=n&&n.appContext.config.warnHandler,s=cd();if(o)Pe(o,n,11,[e+t.join(""),n&&n.proxy,s.map(({vnode:r})=>`at <${qn(n,r.type)}>`).join(`
`),s]);else{const r=[`[Vue warn]: ${e}`,...t];s.length&&r.push(`
`,...ad(s)),console.warn(...r)}vt()}function cd(){let e=We[We.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}function ad(e){const t=[];return e.forEach((n,o)=>{t.push(...o===0?[]:[`
`],...ud(n))}),t}function ud({vnode:e,recurseCount:t}){const n=t>0?`... (${t} recursive calls)`:"",o=e.component?e.component.parent==null:!1,s=` at <${qn(e.component,e.type,o)}`,r=">"+n;return e.props?[s,...ld(e.props),r]:[s+r]}function ld(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach(o=>{t.push(..._c(o,e[o]))}),n.length>3&&t.push(" ..."),t}function _c(e,t,n){return G(t)?(t=JSON.stringify(t),n?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?n?t:[`${e}=${t}`]:H(t)?(t=_c(e,D(t.value),!0),n?t:[`${e}=Ref<`,t,">"]):x(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=D(t),n?t:[`${e}=`,t])}const fs={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",[0]:"setup function",[1]:"render function",[2]:"watcher getter",[3]:"watcher callback",[4]:"watcher cleanup function",[5]:"native event handler",[6]:"component event handler",[7]:"vnode hook",[8]:"directive hook",[9]:"transition hook",[10]:"app errorHandler",[11]:"app warnHandler",[12]:"ref function",[13]:"async component loader",[14]:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://new-issue.vuejs.org/?repo=vuejs/core"};function Pe(e,t,n,o){let s;try{s=o?e(...o):e()}catch(r){ds(r,t,n)}return s}function je(e,t,n,o){if(x(e)){const r=Pe(e,t,n,o);return r&&Ht(r)&&r.catch(i=>{ds(i,t,n)}),r}const s=[];for(let r=0;r<e.length;r++)s.push(je(e[r],t,n,o));return s}function ds(e,t,n,o=!0){const s=t?t.vnode:null;if(t){let r=t.parent;const i=t.proxy,c=fs[n]||n;for(;r;){const a=r.ec;if(a){for(let f=0;f<a.length;f++)if(a[f](e,i,c)===!1)return}r=r.parent}const u=t.appContext.config.errorHandler;if(u){Pe(u,null,10,[e,i,c]);return}}fd(e,n,s,o)}function fd(e,t,n,o=!0){{const s=fs[t]||t;n&&us(n),k(`Unhandled error${s?` during execution of ${s}`:""}`),n&&ls(),console.error(e)}}let Lt=!1,Ao=!1;const Y=[];let me=0;const ct=[];let ge=null,Ee=0;const yc=Promise.resolve();let ps=null;const dd=100;function wn(e){const t=ps||yc;return e?t.then(this?e.bind(this):e):t}function pd(e){let t=me+1,n=Y.length;for(;t<n;){const o=t+n>>>1;Nt(Y[o])<e?t=o+1:n=o}return t}function vn(e){(!Y.length||!Y.includes(e,Lt&&e.allowRecurse?me+1:me))&&(e.id==null?Y.push(e):Y.splice(pd(e.id),0,e),bc())}function bc(){!Lt&&!Ao&&(Ao=!0,ps=yc.then(Sc))}function hd(e){return Y.indexOf(e)>-1}function gd(e){const t=Y.indexOf(e);t>me&&Y.splice(t,1)}function wc(e){L(e)?ct.push(...e):(!ge||!ge.includes(e,e.allowRecurse?Ee+1:Ee))&&ct.push(e),bc()}function vc(e,t=Lt?me+1:0){for(e=e||new Map;t<Y.length;t++){const n=Y[t];if(n&&n.pre){if(hs(e,n))continue;Y.splice(t,1),t--,n()}}}function md(e){if(ct.length){const t=[...new Set(ct)];if(ct.length=0,ge){ge.push(...t);return}for(ge=t,e=e||new Map,ge.sort((n,o)=>Nt(n)-Nt(o)),Ee=0;Ee<ge.length;Ee++)hs(e,ge[Ee])||ge[Ee]();ge=null,Ee=0}}const Nt=e=>e.id==null?1/0:e.id,_d=(e,t)=>{const n=Nt(e)-Nt(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function Sc(e){Ao=!1,Lt=!0,e=e||new Map,Y.sort(_d);const t=n=>hs(e,n);try{for(me=0;me<Y.length;me++){const n=Y[me];if(n&&n.active!==!1){if(t(n))continue;Pe(n,null,14)}}}finally{me=0,Y.length=0,md(e),Lt=!1,ps=null,(Y.length||ct.length)&&Sc(e)}}function hs(e,t){if(!e.has(t))e.set(t,1);else{const n=e.get(t);if(n>dd){const o=t.ownerInstance,s=o&&ys(o.type);return k(`Maximum recursive updates exceeded${s?` in component <${s}>`:""}. This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function.`),!0}else e.set(t,n+1)}}let _e,xt=[],xo=!1;function Mn(e,...t){_e?_e.emit(e,...t):xo||xt.push({event:e,args:t})}function Pc(e,t){var n,o;_e=e,_e?(_e.enabled=!0,xt.forEach(({event:s,args:r})=>_e.emit(s,...r)),xt=[]):typeof window<"u"&&window.HTMLElement&&!(!((o=(n=window.navigator)===null||n===void 0?void 0:n.userAgent)===null||o===void 0)&&o.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(r=>{Pc(r,t)}),setTimeout(()=>{_e||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,xo=!0,xt=[])},3e3)):(xo=!0,xt=[])}function yd(e,t){Mn("app:init",e,t,{Fragment:ap,Text:up,Comment:lp,Static:fp})}const bd=gs("component:added"),wd=gs("component:updated"),vd=gs("component:removed"),Sd=e=>{_e&&typeof _e.cleanupBuffer=="function"&&!_e.cleanupBuffer(e)&&vd(e)};function gs(e){return t=>{Mn(e,t.appContext.app,t.uid,t.uid===0?void 0:t.parent?t.parent.uid:0,t)}}const Pd=Ic("perf:start"),Id=Ic("perf:end");function Ic(e){return(t,n,o)=>{Mn(e,t.appContext.app,t.uid,t,n,o)}}function Ad(e,t,n){Mn("component:emit",e.appContext.app,e,t,n)}function xd(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||z;{const{emitsOptions:f,propsOptions:[l]}=e;if(f)if(!(t in f))(!l||!(Me(t)in l))&&k(`Component emitted event "${t}" but it is neither declared in the emits option nor as an "${Me(t)}" prop.`);else{const p=f[t];x(p)&&(p(...n)||k(`Invalid event arguments: event validation failed for event "${t}".`))}}let s=n;const r=t.startsWith("update:"),i=r&&t.slice(7);if(i&&i in o){const f=`${i==="modelValue"?"model":i}Modifiers`,{number:l,trim:p}=o[f]||z;p&&(s=n.map(g=>G(g)?g.trim():g)),l&&(s=n.map(ou))}Ad(e,t,s);{const f=t.toLowerCase();f!==t&&o[Me(f)]&&k(`Event "${f}" is emitted in component ${qn(e,e.type)} but the handler is registered for "${t}". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "${ut(t)}" instead of "${t}".`)}let c,u=o[c=Me(t)]||o[c=Me(Se(t))];!u&&r&&(u=o[c=Me(ut(t))]),u&&je(u,e,6,s);const a=o[c+"Once"];if(a){if(!e.emitted)e.emitted={};else if(e.emitted[c])return;e.emitted[c]=!0,je(a,e,6,s)}}function Ac(e,t,n=!1){const o=t.emitsCache,s=o.get(e);if(s!==void 0)return s;const r=e.emits;let i={},c=!1;if(!x(e)){const u=a=>{const f=Ac(a,t,!0);f&&(c=!0,q(i,f))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return!r&&!c?(V(e)&&o.set(e,null),null):(L(r)?r.forEach(u=>i[u]=null):q(i,r),V(e)&&o.set(e,i),i)}function xc(e,t){return!e||!ai(t)?!1:(t=t.slice(2).replace(/Once$/,""),$(e,t[0].toLowerCase()+t.slice(1))||$(e,ut(t))||$(e,t))}let Xe=null;function or(e){const t=Xe;return Xe=e,e&&e.type.__scopeId,t}function Od(e,t){if(!K)k("provide() can only be used inside setup().");else{let n=K.provides;const o=K.parent&&K.parent.provides;o===n&&(n=K.provides=Object.create(o)),n[e]=t,K.type.mpType==="app"&&K.appContext.app.provide(e,t)}}function Et(e,t,n=!1){const o=K||Xe;if(o){const s=o.parent==null?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides;if(s&&e in s)return s[e];if(arguments.length>1)return n&&x(t)?t.call(o.proxy):t;k(`injection "${String(e)}" not found.`)}else k("inject() can only be used inside setup() or functional components.")}const tn={};function ln(e,t,n){return x(t)||k("`watch(fn, options?)` signature has been moved to a separate API. Use `watchEffect(fn, options?)` instead. `watch` now only supports `watch(source, cb, options?) signature."),Oc(e,t,n)}function Oc(e,t,{immediate:n,deep:o,flush:s,onTrack:r,onTrigger:i}=z){t||(n!==void 0&&k('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),o!==void 0&&k('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'));const c=y=>{k("Invalid watch source: ",y,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},u=Xi()===(K==null?void 0:K.scope)?K:null;let a,f=!1,l=!1;if(H(e)?(a=()=>e.value,f=bn(e)):ve(e)?(a=()=>e,o=!0):L(e)?(l=!0,f=e.some(y=>ve(y)||bn(y)),a=()=>e.map(y=>{if(H(y))return y.value;if(ve(y))return it(y);if(x(y))return Pe(y,u,2);c(y)})):x(e)?t?a=()=>Pe(e,u,2):a=()=>{if(!(u&&u.isUnmounted))return p&&p(),je(e,u,3,[g])}:(a=X,c(e)),t&&o){const y=a;a=()=>it(y())}let p,g=y=>{p=m.onStop=()=>{Pe(y,u,4)}},_=l?new Array(e.length).fill(tn):tn;const h=()=>{if(m.active)if(t){const y=m.run();(o||f||(l?y.some((w,A)=>$t(w,_[A])):$t(y,_)))&&(p&&p(),je(t,u,3,[y,_===tn?void 0:l&&_[0]===tn?[]:_,g]),_=y)}else m.run()};h.allowRecurse=!!t;let d;s==="sync"?d=h:s==="post"?d=()=>dr(h,u&&u.suspense):(h.pre=!0,u&&(h.id=u.uid),d=()=>vn(h));const m=new rs(a,d);return m.onTrack=r,m.onTrigger=i,t?n?h():_=m.run():s==="post"?dr(m.run.bind(m),u&&u.suspense):m.run(),()=>{m.stop(),u&&u.scope&&kn(u.scope.effects,m)}}function Td(e,t,n){const o=this.proxy,s=G(e)?e.includes(".")?Tc(o,e):()=>o[e]:e.bind(o,o);let r;x(t)?r=t:(r=t.handler,n=t);const i=K;ht(this);const c=Oc(s,r.bind(o),n);return i?ht(i):ze(),c}function Tc(e,t){const n=t.split(".");return()=>{let o=e;for(let s=0;s<n.length&&o;s++)o=o[n[s]];return o}}function it(e,t){if(!V(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),H(e))it(e.value,t);else if(L(e))for(let n=0;n<e.length;n++)it(e[n],t);else if(ui(e)||Ke(e))e.forEach(n=>{it(n,t)});else if(J(e))for(const n in e)it(e[n],t);return e}const Cd=e=>e.type.__isKeepAlive;function Ed(e,t){Cc(e,"a",t)}function kd(e,t){Cc(e,"da",t)}function Cc(e,t,n=K){const o=e.__wdc||(e.__wdc=()=>{let s=n;for(;s;){if(s.isDeactivated)return;s=s.parent}return e()});if(St(t,o,n),n){let s=n.parent;for(;s&&s.parent;)Cd(s.parent.vnode)&&$d(o,t,n,s),s=s.parent}}function $d(e,t,n,o){const s=St(t,e,o,!0);Ec(()=>{kn(o[t],s)},n)}function St(e,t,n=K,o=!1){if(n){hu(e)&&(n=n.root);const s=n[e]||(n[e]=[]),r=t.__weh||(t.__weh=(...i)=>{if(n.isUnmounted)return;wt(),ht(n);const c=je(t,n,e,i);return ze(),vt(),c});return o?s.unshift(r):s.push(r),r}else{const s=Me((fs[e]||e.replace(/^on/,"")).replace(/ hook$/,""));k(`${s} is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().`)}}const Ae=e=>(t,n=K)=>(!jt||e==="sp")&&St(e,(...o)=>t(...o),n),Rd=Ae("bm"),Ld=Ae("m"),Nd=Ae("bu"),Dd=Ae("u"),ms=Ae("bum"),Ec=Ae("um"),jd=Ae("sp"),Ud=Ae("rtg"),Md=Ae("rtc");function Fd(e,t=K){St("ec",e,t)}function kc(e){Za(e)&&k("Do not use built-in directive ids as custom directive id: "+e)}const Oo="components";function Hd(e,t){return qd(Oo,e,!0,t)||e}function qd(e,t,n=!0,o=!1){const s=Xe||K;if(s){const r=s.type;if(e===Oo){const c=ys(r,!1);if(c&&(c===t||c===Se(t)||c===Ye(Se(t))))return r}const i=sr(s[e]||r[e],t)||sr(s.appContext[e],t);if(!i&&o)return r;if(n&&!i){const c=e===Oo?`
If this is a native custom element, make sure to exclude it from component resolution via compilerOptions.isCustomElement.`:"";k(`Failed to resolve ${e.slice(0,-1)}: ${t}${c}`)}return i}else k(`resolve${Ye(e.slice(0,-1))} can only be used in render() or setup().`)}function sr(e,t){return e&&(e[t]||e[Se(t)]||e[Ye(Se(t))])}const To=e=>e?Mc(e)?Hn(e)||e.proxy:To(e.parent):null,Dt=q(Object.create(null),{$:e=>e,$el:e=>e.__$el||(e.__$el={}),$data:e=>e.data,$props:e=>rt(e.props),$attrs:e=>rt(e.attrs),$slots:e=>rt(e.slots),$refs:e=>rt(e.refs),$parent:e=>To(e.parent),$root:e=>To(e.root),$emit:e=>e.emit,$options:e=>Lc(e),$forceUpdate:e=>e.f||(e.f=()=>vn(e.update)),$watch:e=>Td.bind(e)}),_s=e=>e==="_"||e==="$",Gn=(e,t)=>e!==z&&!e.__isScriptSetup&&$(e,t),$c={get({_:e},t){const{ctx:n,setupState:o,data:s,props:r,accessCache:i,type:c,appContext:u}=e;if(t==="__isVue")return!0;let a;if(t[0]!=="$"){const g=i[t];if(g!==void 0)switch(g){case 1:return o[t];case 2:return s[t];case 4:return n[t];case 3:return r[t]}else{if(Gn(o,t))return i[t]=1,o[t];if(s!==z&&$(s,t))return i[t]=2,s[t];if((a=e.propsOptions[0])&&$(a,t))return i[t]=3,r[t];if(n!==z&&$(n,t))return i[t]=4,n[t];Co&&(i[t]=0)}}const f=Dt[t];let l,p;if(f)return t==="$attrs"&&ce(e,"get",t),f(e);if((l=c.__cssModules)&&(l=l[t]))return l;if(n!==z&&$(n,t))return i[t]=4,n[t];if(p=u.config.globalProperties,$(p,t))return p[t];Xe&&(!G(t)||t.indexOf("__v")!==0)&&(s!==z&&_s(t[0])&&$(s,t)?k(`Property ${JSON.stringify(t)} must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.`):e===Xe&&k(`Property ${JSON.stringify(t)} was accessed during render but is not defined on instance.`))},set({_:e},t,n){const{data:o,setupState:s,ctx:r}=e;return Gn(s,t)?(s[t]=n,!0):s.__isScriptSetup&&$(s,t)?(k(`Cannot mutate <script setup> binding "${t}" from Options API.`),!1):o!==z&&$(o,t)?(o[t]=n,!0):$(e.props,t)?(k(`Attempting to mutate prop "${t}". Props are readonly.`),!1):t[0]==="$"&&t.slice(1)in e?(k(`Attempting to mutate public property "${t}". Properties starting with $ are reserved and readonly.`),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(r,t,{enumerable:!0,configurable:!0,value:n}):r[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:s,propsOptions:r}},i){let c;return!!n[i]||e!==z&&$(e,i)||Gn(t,i)||(c=r[0])&&$(c,i)||$(o,i)||$(Dt,i)||$(s.config.globalProperties,i)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:$(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};$c.ownKeys=e=>(k("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));function Bd(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Dt).forEach(n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Dt[n](e),set:X})}),t}function Kd(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach(o=>{Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>e.props[o],set:X})})}function Vd(e){const{ctx:t,setupState:n}=e;Object.keys(D(n)).forEach(o=>{if(!n.__isScriptSetup){if(_s(o[0])){k(`setup() return property ${JSON.stringify(o)} should not start with "$" or "_" which are reserved prefixes for Vue internals.`);return}Object.defineProperty(t,o,{enumerable:!0,configurable:!0,get:()=>n[o],set:X})}})}function Wd(){const e=Object.create(null);return(t,n)=>{e[n]?k(`${t} property "${n}" is already defined in ${e[n]}.`):e[n]=t}}let Co=!0;function zd(e){const t=Lc(e),n=e.proxy,o=e.ctx;Co=!1,t.beforeCreate&&rr(t.beforeCreate,e,"bc");const{data:s,computed:r,methods:i,watch:c,provide:u,inject:a,created:f,beforeMount:l,mounted:p,beforeUpdate:g,updated:_,activated:h,deactivated:d,beforeDestroy:m,beforeUnmount:b,destroyed:y,unmounted:w,render:A,renderTracked:E,renderTriggered:T,errorCaptured:F,serverPrefetch:C,expose:O,inheritAttrs:M,components:W,directives:Z,filters:Ue}=t,ue=Wd();{const[N]=e.propsOptions;if(N)for(const j in N)ue("Props",j)}if(a&&Jd(a,o,ue,e.appContext.config.unwrapInjectedRef),i)for(const N in i){const j=i[N];x(j)?(Object.defineProperty(o,N,{value:j.bind(n),configurable:!0,enumerable:!0,writable:!0}),ue("Methods",N)):k(`Method "${N}" has type "${typeof j}" in the component definition. Did you reference the function correctly?`)}if(s){x(s)||k("The data option must be a function. Plain object usage is no longer supported.");const N=s.call(n,n);if(Ht(N)&&k("data() returned a Promise - note data() cannot be async; If you intend to perform data fetching before component renders, use async setup() + <Suspense>."),!V(N))k("data() should return an object.");else{e.data=jn(N);for(const j in N)ue("Data",j),_s(j[0])||Object.defineProperty(o,j,{configurable:!0,enumerable:!0,get:()=>N[j],set:X})}}if(Co=!0,r)for(const N in r){const j=r[N],de=x(j)?j.bind(n,n):x(j.get)?j.get.bind(n,n):X;de===X&&k(`Computed property "${N}" has no getter.`);const nt=!x(j)&&x(j.set)?j.set.bind(n):()=>{k(`Write operation failed: computed property "${N}" is readonly.`)},v=bs({get:de,set:nt});Object.defineProperty(o,N,{enumerable:!0,configurable:!0,get:()=>v.value,set:I=>v.value=I}),ue("Computed",N)}if(c)for(const N in c)Rc(c[N],o,n,N);if(u){const N=x(u)?u.call(n):u;Reflect.ownKeys(N).forEach(j=>{Od(j,N[j])})}f&&rr(f,e,"c");function B(N,j){L(j)?j.forEach(de=>N(de.bind(n))):j&&N(j.bind(n))}if(B(Rd,l),B(Ld,p),B(Nd,g),B(Dd,_),B(Ed,h),B(kd,d),B(Fd,F),B(Md,E),B(Ud,T),B(ms,b),B(Ec,w),B(jd,C),L(O))if(O.length){const N=e.exposed||(e.exposed={});O.forEach(j=>{Object.defineProperty(N,j,{get:()=>n[j],set:de=>n[j]=de})})}else e.exposed||(e.exposed={});A&&e.render===X&&(e.render=A),M!=null&&(e.inheritAttrs=M),W&&(e.components=W),Z&&(e.directives=Z),e.ctx.$onApplyOptions&&e.ctx.$onApplyOptions(t,e,n)}function Jd(e,t,n=X,o=!1){L(e)&&(e=Eo(e));for(const s in e){const r=e[s];let i;V(r)?"default"in r?i=Et(r.from||s,r.default,!0):i=Et(r.from||s):i=Et(r),H(i)?o?Object.defineProperty(t,s,{enumerable:!0,configurable:!0,get:()=>i.value,set:c=>i.value=c}):(k(`injected property "${s}" is a ref and will be auto-unwrapped and no longer needs \`.value\` in the next minor release. To opt-in to the new behavior now, set \`app.config.unwrapInjectedRef = true\` (this config is temporary and will not be needed in the future.)`),t[s]=i):t[s]=i,n("Inject",s)}}function rr(e,t,n){je(L(e)?e.map(o=>o.bind(t.proxy)):e.bind(t.proxy),t,n)}function Rc(e,t,n,o){const s=o.includes(".")?Tc(n,o):()=>n[o];if(G(e)){const r=t[e];x(r)?ln(s,r):k(`Invalid watch handler specified by key "${e}"`,r)}else if(x(e))ln(s,e.bind(n));else if(V(e))if(L(e))e.forEach(r=>Rc(r,t,n,o));else{const r=x(e.handler)?e.handler.bind(n):t[e.handler];x(r)?ln(s,r,e):k(`Invalid watch handler specified by key "${e.handler}"`,r)}else k(`Invalid watch option: "${o}"`,e)}function Lc(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:s,optionsCache:r,config:{optionMergeStrategies:i}}=e.appContext,c=r.get(t);let u;return c?u=c:!s.length&&!n&&!o?u=t:(u={},s.length&&s.forEach(a=>Sn(u,a,i,!0)),Sn(u,t,i)),V(t)&&r.set(t,u),u}function Sn(e,t,n,o=!1){const{mixins:s,extends:r}=t;r&&Sn(e,r,n,!0),s&&s.forEach(i=>Sn(e,i,n,!0));for(const i in t)if(o&&i==="expose")k('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const c=Gd[i]||n&&n[i];e[i]=c?c(e[i],t[i]):t[i]}return e}const Gd={data:ir,props:Fe,emits:Fe,methods:Fe,computed:Fe,beforeCreate:ee,created:ee,beforeMount:ee,mounted:ee,beforeUpdate:ee,updated:ee,beforeDestroy:ee,beforeUnmount:ee,destroyed:ee,unmounted:ee,activated:ee,deactivated:ee,errorCaptured:ee,serverPrefetch:ee,components:Fe,directives:Fe,watch:Qd,provide:ir,inject:Yd};function ir(e,t){return t?e?function(){return q(x(e)?e.call(this,this):e,x(t)?t.call(this,this):t)}:t:e}function Yd(e,t){return Fe(Eo(e),Eo(t))}function Eo(e){if(L(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ee(e,t){return e?[...new Set([].concat(e,t))]:t}function Fe(e,t){return e?q(q(Object.create(null),e),t):t}function Qd(e,t){if(!e)return t;if(!t)return e;const n=q(Object.create(null),e);for(const o in t)n[o]=ee(e[o],t[o]);return n}function Xd(e,t,n,o=!1){const s={},r={};e.propsDefaults=Object.create(null),Nc(e,t,s,r);for(const i in e.propsOptions[0])i in s||(s[i]=void 0);jc(t||{},s,e),n?e.props=o?s:Zf(s):e.type.props?e.props=s:e.props=r,e.attrs=r}function Zd(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}function ep(e,t,n,o){const{props:s,attrs:r,vnode:{patchFlag:i}}=e,c=D(s),[u]=e.propsOptions;let a=!1;if(!Zd(e)&&(o||i>0)&&!(i&16)){if(i&8){const f=e.vnode.dynamicProps;for(let l=0;l<f.length;l++){let p=f[l];if(xc(e.emitsOptions,p))continue;const g=t[p];if(u)if($(r,p))g!==r[p]&&(r[p]=g,a=!0);else{const _=Se(p);s[_]=ko(u,c,_,g,e,!1)}else g!==r[p]&&(r[p]=g,a=!0)}}}else{Nc(e,t,s,r)&&(a=!0);let f;for(const l in c)(!t||!$(t,l)&&((f=ut(l))===l||!$(t,f)))&&(u?n&&(n[l]!==void 0||n[f]!==void 0)&&(s[l]=ko(u,c,l,void 0,e,!0)):delete s[l]);if(r!==c)for(const l in r)(!t||!$(t,l))&&(delete r[l],a=!0)}a&&Ie(e,"set","$attrs"),jc(t||{},s,e)}function Nc(e,t,n,o){const[s,r]=e.propsOptions;let i=!1,c;if(t)for(let u in t){if(Xa(u))continue;const a=t[u];let f;s&&$(s,f=Se(u))?!r||!r.includes(f)?n[f]=a:(c||(c={}))[f]=a:xc(e.emitsOptions,u)||(!(u in o)||a!==o[u])&&(o[u]=a,i=!0)}if(r){const u=D(n),a=c||z;for(let f=0;f<r.length;f++){const l=r[f];n[l]=ko(s,u,l,a[l],e,!$(a,l))}}return i}function ko(e,t,n,o,s,r){const i=e[n];if(i!=null){const c=$(i,"default");if(c&&o===void 0){const u=i.default;if(i.type!==Function&&x(u)){const{propsDefaults:a}=s;n in a?o=a[n]:(ht(s),o=a[n]=u.call(null,t),ze())}else o=u}i[0]&&(r&&!c?o=!1:i[1]&&(o===""||o===ut(n))&&(o=!0))}return o}function Dc(e,t,n=!1){const o=t.propsCache,s=o.get(e);if(s)return s;const r=e.props,i={},c=[];let u=!1;if(!x(e)){const f=l=>{u=!0;const[p,g]=Dc(l,t,!0);q(i,p),g&&c.push(...g)};!n&&t.mixins.length&&t.mixins.forEach(f),e.extends&&f(e.extends),e.mixins&&e.mixins.forEach(f)}if(!r&&!u)return V(e)&&o.set(e,$s),$s;if(L(r))for(let f=0;f<r.length;f++){G(r[f])||k("props must be strings when using array syntax.",r[f]);const l=Se(r[f]);cr(l)&&(i[l]=z)}else if(r){V(r)||k("invalid props options",r);for(const f in r){const l=Se(f);if(cr(l)){const p=r[f],g=i[l]=L(p)||x(p)?{type:p}:Object.assign({},p);if(g){const _=ur(Boolean,g.type),h=ur(String,g.type);g[0]=_>-1,g[1]=h<0||_<h,(_>-1||$(g,"default"))&&c.push(l)}}}}const a=[i,c];return V(e)&&o.set(e,a),a}function cr(e){return e[0]!=="$"?!0:(k(`Invalid prop name: "${e}" is a reserved property.`),!1)}function $o(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function ar(e,t){return $o(e)===$o(t)}function ur(e,t){return L(t)?t.findIndex(n=>ar(n,e)):x(t)&&ar(t,e)?0:-1}function jc(e,t,n){const o=D(t),s=n.propsOptions[0];for(const r in s){let i=s[r];i!=null&&tp(r,o[r],i,!$(e,r)&&!$(e,ut(r)))}}function tp(e,t,n,o){const{type:s,required:r,validator:i}=n;if(r&&o){k('Missing required prop: "'+e+'"');return}if(!(t==null&&!n.required)){if(s!=null&&s!==!0){let c=!1;const u=L(s)?s:[s],a=[];for(let f=0;f<u.length&&!c;f++){const{valid:l,expectedType:p}=op(t,u[f]);a.push(p||""),c=l}if(!c){k(sp(e,t,a));return}}i&&!i(t)&&k('Invalid prop: custom validator check failed for prop "'+e+'".')}}const np=bt("String,Number,Boolean,Function,Symbol,BigInt");function op(e,t){let n;const o=$o(t);if(np(o)){const s=typeof e;n=s===o.toLowerCase(),!n&&s==="object"&&(n=e instanceof t)}else o==="Object"?n=V(e):o==="Array"?n=L(e):o==="null"?n=e===null:n=e instanceof t;return{valid:n,expectedType:o}}function sp(e,t,n){let o=`Invalid prop: type check failed for prop "${e}". Expected ${n.map(Ye).join(" | ")}`;const s=n[0],r=$n(t),i=lr(t,s),c=lr(t,r);return n.length===1&&fr(s)&&!rp(s,r)&&(o+=` with value ${i}`),o+=`, got ${r} `,fr(r)&&(o+=`with value ${c}.`),o}function lr(e,t){return t==="String"?`"${e}"`:t==="Number"?`${Number(e)}`:`${e}`}function fr(e){return["string","number","boolean"].some(n=>e.toLowerCase()===n)}function rp(...e){return e.some(t=>t.toLowerCase()==="boolean")}function Uc(){return{app:null,config:{isNativeTag:ci,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let ip=0;function cp(e,t){return function(o,s=null){x(o)||(o=Object.assign({},o)),s!=null&&!V(s)&&(k("root props passed to app.mount() must be an object."),s=null);const r=Uc(),i=new Set,c=r.app={_uid:ip++,_component:o,_props:s,_container:null,_context:r,_instance:null,version:Hc,get config(){return r.config},set config(u){k("app.config cannot be replaced. Modify individual options instead.")},use(u,...a){return i.has(u)?k("Plugin has already been applied to target app."):u&&x(u.install)?(i.add(u),u.install(c,...a)):x(u)?(i.add(u),u(c,...a)):k('A plugin must either be a function or an object with an "install" function.'),c},mixin(u){return r.mixins.includes(u)?k("Mixin has already been applied to target app"+(u.name?`: ${u.name}`:"")):r.mixins.push(u),c},component(u,a){return Ro(u,r.config),a?(r.components[u]&&k(`Component "${u}" has already been registered in target app.`),r.components[u]=a,c):r.components[u]},directive(u,a){return kc(u),a?(r.directives[u]&&k(`Directive "${u}" has already been registered in target app.`),r.directives[u]=a,c):r.directives[u]},mount(){},unmount(){},provide(u,a){return u in r.provides&&k(`App already provides property with key "${String(u)}". It will be overwritten with the new value.`),r.provides[u]=a,c}};return c}}let Pt,ke;function Pn(e,t){e.appContext.config.performance&&An()&&ke.mark(`vue-${t}-${e.uid}`),Pd(e,t,An()?ke.now():Date.now())}function In(e,t){if(e.appContext.config.performance&&An()){const n=`vue-${t}-${e.uid}`,o=n+":end";ke.mark(o),ke.measure(`<${qn(e,e.type)}> ${t}`,n,o),ke.clearMarks(n),ke.clearMarks(o)}Id(e,t,An()?ke.now():Date.now())}function An(){return Pt!==void 0||(typeof window<"u"&&window.performance?(Pt=!0,ke=window.performance):Pt=!1),Pt}const dr=wc,ap=Symbol("Fragment"),up=Symbol("Text"),lp=Symbol("Comment"),fp=Symbol("Static");function dp(e){return e?e.__v_isVNode===!0:!1}const pp=Uc();let hp=0;function gp(e,t,n){const o=e.type,s=(t?t.appContext:e.appContext)||pp,r={uid:hp++,vnode:e,type:o,parent:t,appContext:s,root:null,next:null,subTree:null,effect:null,update:null,scope:new Yi(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(s.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Dc(o,s),emitsOptions:Ac(o,s),emit:null,emitted:null,propsDefaults:z,inheritAttrs:o.inheritAttrs,ctx:z,data:z,props:z,attrs:z,slots:z,refs:z,setupState:z,setupContext:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx=Bd(r),r.root=t?t.root:r,r.emit=xd.bind(null,r),e.ce&&e.ce(r),r}let K=null;const Fn=()=>K||Xe,ht=e=>{K=e,e.scope.on()},ze=()=>{K&&K.scope.off(),K=null},mp=bt("slot,component");function Ro(e,t){const n=t.isNativeTag||ci;(mp(e)||n(e))&&k("Do not use built-in or reserved HTML elements as component id: "+e)}function Mc(e){return e.vnode.shapeFlag&4}let jt=!1;function _p(e,t=!1){jt=t;const{props:n}=e.vnode,o=Mc(e);Xd(e,n,o,t);const s=o?yp(e,t):void 0;return jt=!1,s}function yp(e,t){const n=e.type;{if(n.name&&Ro(n.name,e.appContext.config),n.components){const s=Object.keys(n.components);for(let r=0;r<s.length;r++)Ro(s[r],e.appContext.config)}if(n.directives){const s=Object.keys(n.directives);for(let r=0;r<s.length;r++)kc(s[r])}n.compilerOptions&&vp()&&k('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.')}e.accessCache=Object.create(null),e.proxy=pe(new Proxy(e.ctx,$c)),Kd(e);const{setup:o}=n;if(o){const s=e.setupContext=o.length>1?Pp(e):null;ht(e),wt();const r=Pe(o,e,0,[rt(e.props),s]);vt(),ze(),Ht(r)?(r.then(ze,ze),k("setup() returned a Promise, but the version of Vue you are using does not support it yet.")):bp(e,r,t)}else Fc(e,t)}function bp(e,t,n){x(t)?e.render=t:V(t)?(dp(t)&&k("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=gc(t),Vd(e)):t!==void 0&&k(`setup() should return an object. Received: ${t===null?"null":typeof t}`),Fc(e,n)}let wp;const vp=()=>!wp;function Fc(e,t,n){const o=e.type;e.render||(e.render=o.render||X),ht(e),wt(),zd(e),vt(),ze(),!o.render&&e.render===X&&!t&&(o.template?k('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):k("Component is missing template or render function."))}function Sp(e){return new Proxy(e.attrs,{get(t,n){return ce(e,"get","$attrs"),t[n]},set(){return k("setupContext.attrs is readonly."),!1},deleteProperty(){return k("setupContext.attrs is readonly."),!1}})}function Pp(e){const t=o=>{if(e.exposed&&k("expose() should be called only once per setup()."),o!=null){let s=typeof o;s==="object"&&(L(o)?s="array":H(o)&&(s="ref")),s!=="object"&&k(`expose() should be passed a plain object, received ${s}.`)}e.exposed=o||{}};let n;return Object.freeze({get attrs(){return n||(n=Sp(e))},get slots(){return rt(e.slots)},get emit(){return(o,...s)=>e.emit(o,...s)},expose:t})}function Hn(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(gc(pe(e.exposed)),{get(t,n){return n in t?t[n]:e.proxy[n]},has(t,n){return n in t||n in Dt}}))}const Ip=/(?:^|[-_])(\w)/g,Ap=e=>e.replace(Ip,t=>t.toUpperCase()).replace(/[-_]/g,"");function ys(e,t=!0){return x(e)?e.displayName||e.name:e.name||t&&e.__name}function qn(e,t,n=!1){let o=ys(t);if(!o&&t.__file){const s=t.__file.match(/([^/\\]+)\.\w+$/);s&&(o=s[1])}if(!o&&e&&e.parent){const s=r=>{for(const i in r)if(r[i]===t)return i};o=s(e.components||e.parent.type.components)||s(e.appContext.components)}return o?Ap(o):n?"App":"Anonymous"}const bs=(e,t)=>id(e,t,jt),Hc="3.2.47";function xn(e){return as(e)}const He="[object Array]",qe="[object Object]";function qc(e,t){const n={};return Lo(e,t),fn(e,t,"",n),n}function Lo(e,t){if(e=xn(e),e===t)return;const n=ye(e),o=ye(t);if(n==qe&&o==qe)for(let s in t){const r=e[s];r===void 0?e[s]=null:Lo(r,t[s])}else n==He&&o==He&&e.length>=t.length&&t.forEach((s,r)=>{Lo(e[r],s)})}function fn(e,t,n,o){if(e=xn(e),e===t)return;const s=ye(e),r=ye(t);if(s==qe)if(r!=qe||Object.keys(e).length<Object.keys(t).length)Te(o,n,e);else for(let i in e){const c=xn(e[i]),u=t[i],a=ye(c),f=ye(u);if(a!=He&&a!=qe)c!=u&&Te(o,(n==""?"":n+".")+i,c);else if(a==He)f!=He||c.length<u.length?Te(o,(n==""?"":n+".")+i,c):c.forEach((l,p)=>{fn(l,u[p],(n==""?"":n+".")+i+"["+p+"]",o)});else if(a==qe)if(f!=qe||Object.keys(c).length<Object.keys(u).length)Te(o,(n==""?"":n+".")+i,c);else for(let l in c)fn(c[l],u[l],(n==""?"":n+".")+i+"."+l,o)}else s==He?r!=He||e.length<t.length?Te(o,n,e):e.forEach((i,c)=>{fn(i,t[c],n+"["+c+"]",o)}):Te(o,n,e)}function Te(e,t,n){e[t]=n}function xp(e){return Y.includes(e.update)}function pr(e){const n=e.ctx.__next_tick_callbacks;if(n&&n.length){const o=n.slice(0);n.length=0;for(let s=0;s<o.length;s++)o[s]()}}function Bc(e,t){const n=e.ctx;if(!n.__next_tick_pending&&!xp(e))return wn(t&&t.bind(e.proxy));let o;return n.__next_tick_callbacks||(n.__next_tick_callbacks=[]),n.__next_tick_callbacks.push(()=>{t?Pe(t.bind(e.proxy),e,14):o&&o(e.proxy)}),new Promise(s=>{o=s})}function No(e,t){e=xn(e);const n=typeof e;if(n==="object"&&e!==null){let o=t.get(e);if(typeof o<"u")return o;if(L(e)){const s=e.length;o=new Array(s),t.set(e,o);for(let r=0;r<s;r++)o[r]=No(e[r],t)}else{o={},t.set(e,o);for(const s in e)$(e,s)&&(o[s]=No(e[s],t))}return o}if(n!=="symbol")return e}function Op(e){return No(e,typeof WeakMap<"u"?new WeakMap:new Map)}function Tp(e,t){const n=e.data,o=Object.create(null);return t.forEach(s=>{o[s]=n[s]}),o}function hr(e,t,n){if(!t)return;t=Op(t);const o=e.ctx,s=o.mpType;if(s==="page"||s==="component"){t.r0=1;const r=o.$scope,i=Object.keys(t),c=qc(t,n||Tp(r,i));Object.keys(c).length?(o.__next_tick_pending=!0,r.setData(c,()=>{o.__next_tick_pending=!1,pr(e)}),vc()):pr(e)}}function Cp(e){e.globalProperties.$nextTick=function(n){return Bc(this.$,n)}}function Ep(e,t,n){t.appContext.config.globalProperties.$applyOptions(e,t,n);const o=e.computed;if(o){const s=Object.keys(o);if(s.length){const r=t.ctx;r.$computedKeys||(r.$computedKeys=[]),r.$computedKeys.push(...s)}}delete t.ctx.$onApplyOptions}function Kc(e,t=!1){const{setupState:n,$templateRefs:o,ctx:{$scope:s,$mpPlatform:r}}=e;if(r==="mp-alipay"||!o||!s)return;if(t)return o.forEach(a=>gr(a,null,n));const i=r==="mp-baidu"||r==="mp-toutiao",c=a=>{const f=(s.selectAllComponents(".r")||[]).concat(s.selectAllComponents(".r-i-f")||[]);return a.filter(l=>{const p=$p(f,l.i);return i&&p===null?!0:(gr(l,p,n),!1)})},u=()=>{const a=c(o);a.length&&e.proxy&&e.proxy.$scope&&e.proxy.$scope.setData({r1:1},()=>{c(a)})};s._$setRef?s._$setRef(u):Bc(e,u)}function kp(e){return V(e)&&pe(e),e}function $p(e,t){const n=e.find(o=>o&&(o.properties||o.props).uI===t);if(n){const o=n.$vm;return o?Hn(o.$)||o:kp(n)}return null}function gr({r:e,f:t},n,o){if(x(e))e(n,{});else{const s=G(e),r=H(e);if(s||r)if(t){if(!r)return;L(e.value)||(e.value=[]);const i=e.value;if(i.indexOf(n)===-1){if(i.push(n),!n)return;ms(()=>kn(i,n),n.$)}}else s?$(o,e)&&(o[e]=n):H(e)?e.value=n:mr(e);else mr(e)}}function mr(e){k("Invalid template ref type:",e,`(${typeof e})`)}var Do;(function(e){e.APP="app",e.PAGE="page",e.COMPONENT="component"})(Do||(Do={}));const jo=wc;function _r(e,t){const n=e.component=gp(e,t.parentComponent,null);return n.ctx.$onApplyOptions=Ep,n.ctx.$children=[],t.mpType==="app"&&(n.render=X),t.onBeforeSetup&&t.onBeforeSetup(n,t),us(e),Pn(n,"mount"),Pn(n,"init"),_p(n),In(n,"init"),t.parentComponent&&n.proxy&&t.parentComponent.ctx.$children.push(Hn(n)||n.proxy),Dp(n),ls(),In(n,"mount"),n.proxy}const Rp=e=>{let t;for(const n in e)(n==="class"||n==="style"||ai(n))&&((t||(t={}))[n]=e[n]);return t};function yr(e){const{type:t,vnode:n,proxy:o,withProxy:s,props:r,propsOptions:[i],slots:c,attrs:u,emit:a,render:f,renderCache:l,data:p,setupState:g,ctx:_,uid:h,appContext:{app:{config:{globalProperties:{pruneComponentPropsCache:d}}}},inheritAttrs:m}=e;e.$templateRefs=[],e.$ei=0,d(h),e.__counter=e.__counter===0?1:0;let b;const y=or(e);try{if(n.shapeFlag&4){br(m,r,i,u);const w=s||o;b=f.call(w,w,l,r,g,p,_)}else{br(m,r,i,t.props?u:Rp(u));const w=t;b=w.length>1?w(r,{attrs:u,slots:c,emit:a}):w(r,null)}}catch(w){ds(w,e,1),b=!1}return Kc(e),or(y),b}function br(e,t,n,o){if(t&&o&&e!==!1){const s=Object.keys(o).filter(r=>r!=="class"&&r!=="style");if(!s.length)return;n&&s.some(Rs)?s.forEach(r=>{(!Rs(r)||!(r.slice(9)in n))&&(t[r]=o[r])}):s.forEach(r=>t[r]=o[r])}}const Lp=e=>{wt(),vc(),vt()};function Np(){const e=this.$scopedSlotsData;if(!e||e.length===0)return;const t=this.ctx.$scope,n=t.data,o=Object.create(null);e.forEach(({path:s,index:r,data:i})=>{const c=Oi(n,s),u=G(r)?`${s}.${r}`:`${s}[${r}]`;if(typeof c>"u"||typeof c[r]>"u")o[u]=i;else{const a=qc(i,c[r]);Object.keys(a).forEach(f=>{o[u+"."+f]=a[f]})}}),e.length=0,Object.keys(o).length&&t.setData(o)}function Yn({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Dp(e){const t=Np.bind(e);e.$updateScopedSlots=()=>wn(()=>vn(t));const n=()=>{if(!e.isMounted)ms(()=>{Kc(e,!0)},e),Pn(e,"patch"),hr(e,yr(e)),In(e,"patch"),bd(e);else{const{next:r,bu:i,u:c}=e;us(r||e.vnode),Yn(e,!1),Lp(),i&&an(i),Yn(e,!0),Pn(e,"patch"),hr(e,yr(e)),In(e,"patch"),c&&jo(c),wd(e),ls()}},o=e.effect=new rs(n,()=>vn(e.update),e.scope),s=e.update=o.run.bind(o);s.id=e.uid,Yn(e,!0),o.onTrack=e.rtc?r=>an(e.rtc,r):void 0,o.onTrigger=e.rtg?r=>an(e.rtg,r):void 0,s.ownerInstance=e,s()}function jp(e){const{bum:t,scope:n,update:o,um:s}=e;t&&an(t),n.stop(),o&&(o.active=!1),s&&jo(s),jo(()=>{e.isUnmounted=!0}),Sd(e)}const Up=cp();function Mp(){if(typeof window<"u")return window;if(typeof globalThis<"u")return globalThis;if(typeof global<"u")return global;if(typeof my<"u")return my}function Fp(e,t=null){const n=Mp();n.__VUE__=!0,Pc(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const o=Up(e,t),s=o._context;Cp(s.config);const r=u=>(u.appContext=s,u.shapeFlag=6,u),i=function(a,f){return _r(r(a),f)},c=function(a){return a&&jp(a.$)};return o.mount=function(){e.render=X;const a=_r(r({type:e}),{mpType:Do.APP,mpInstance:null,parentComponent:null,slots:[],props:null});return o._instance=a.$,yd(o,Hc),a.$app=o,a.$createComponent=i,a.$destroyComponent=c,s.$appInstance=a,a},o.unmount=function(){k("Cannot unmount an app.")},o}function wr(e,t,n,o){x(t)&&St(e,t.bind(n),o)}function Hp(e,t,n){const o=e.mpType||n.$mpType;!o||o==="component"||Object.keys(e).forEach(s=>{if(Ci(s,e[s],!1)){const r=e[s];L(r)?r.forEach(i=>wr(s,i,n,t)):wr(s,r,n,t)}})}function qp(e,t,n){Hp(e,t,n)}function Bp(e,t,n){return e[t]=n}function Kp(e){return function(n,o,s){if(!o)throw n;const r=e._instance;if(!r||!r.proxy)throw n;r.proxy.$callHook(Yo,n)}}function Vp(e,t){return e?[...new Set([].concat(e,t))]:t}function Wp(e){Ti.forEach(t=>{e[t]=Vp})}let Uo;const nn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",zp=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;typeof atob!="function"?Uo=function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!zp.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");e+="==".slice(2-(e.length&3));for(var t,n="",o,s,r=0;r<e.length;)t=nn.indexOf(e.charAt(r++))<<18|nn.indexOf(e.charAt(r++))<<12|(o=nn.indexOf(e.charAt(r++)))<<6|(s=nn.indexOf(e.charAt(r++))),n+=o===64?String.fromCharCode(t>>16&255):s===64?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,t&255);return n}:Uo=atob;function Jp(e){return decodeURIComponent(Uo(e).split("").map(function(t){return"%"+("00"+t.charCodeAt(0).toString(16)).slice(-2)}).join(""))}function Qn(){const e=U.getStorageSync("uni_id_token")||"",t=e.split(".");if(!e||t.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let n;try{n=JSON.parse(Jp(t[1]))}catch(o){throw new Error("获取当前用户信息出错，详细错误信息为："+o.message)}return n.tokenExpired=n.exp*1e3,delete n.exp,delete n.iat,n}function Gp(e){e.uniIDHasRole=function(t){const{role:n}=Qn();return n.indexOf(t)>-1},e.uniIDHasPermission=function(t){const{permission:n}=Qn();return this.uniIDHasRole("admin")||n.indexOf(t)>-1},e.uniIDTokenValid=function(){const{tokenExpired:t}=Qn();return t>Date.now()}}function Yp(e){const t=e._context.config;t.errorHandler=_u(e,Kp),Wp(t.optionMergeStrategies);const n=t.globalProperties;Gp(n),n.$set=Bp,n.$applyOptions=qp,U.invokeCreateVueAppHook(e)}const Mo=Object.create(null);function Vc(e){delete Mo[e]}function ws(e){if(!e)return;const[t,n]=e.split(",");if(Mo[t])return Mo[t][parseInt(n)]}var Qp={install(e){Yp(e),e.config.globalProperties.pruneComponentPropsCache=Vc;const t=e.mount;e.mount=function(o){const s=t.call(e,o),r=Xp();return r?r(s):typeof createMiniProgramApp<"u"&&createMiniProgramApp(s),s}}};function Xp(){const e="createApp";if(typeof global<"u")return global[e];if(typeof my<"u")return my[e]}function Zp(e,t){const n=Fn(),o=n.ctx,s=typeof t<"u"&&(o.$mpPlatform==="mp-weixin"||o.$mpPlatform==="mp-qq")&&(G(t)||typeof t=="number")?"_"+t:"",r="e"+n.$ei+++s,i=o.$scope;if(!e)return delete i[r],r;const c=i[r];return c?c.value=e:i[r]=eh(e,n),r}function eh(e,t){const n=o=>{nh(o);let s=[o];o.detail&&o.detail.__args__&&(s=o.detail.__args__);const r=n.value,i=()=>je(oh(o,r),t,5,s),c=o.target,u=c&&c.dataset?String(c.dataset.eventsync)==="true":!1;if(th.includes(o.type)&&!u)setTimeout(i);else{const a=i();return o.type==="input"&&(L(a)||Ht(a))?void 0:a}};return n.value=e,n}const th=["tap","longpress","longtap","transitionend","animationstart","animationiteration","animationend","touchforcechange"];function nh(e){e.type&&e.target&&(e.preventDefault=X,e.stopPropagation=X,e.stopImmediatePropagation=X,$(e,"detail")||(e.detail={}),$(e,"markerId")&&(e.detail=typeof e.detail=="object"?e.detail:{},e.detail.markerId=e.markerId),J(e.detail)&&$(e.detail,"checked")&&!$(e.detail,"value")&&(e.detail.value=e.detail.checked),J(e.detail)&&(e.target=q({},e.target,e.detail)))}function oh(e,t){if(L(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n&&n.call(e),e._stopped=!0},t.map(o=>s=>!s._stopped&&o(s))}else return t}const sh=(e,t)=>Zp(e,t),rh=e=>Ga(e);function ih(e,t=null){return e&&(e.mpType="app"),Fp(e,t).use(Qp)}const ch=ih,ah=["createSelectorQuery","createIntersectionObserver","selectAllComponents","selectComponent"];function uh(e,t){return function(o,...s){const r=t.$scope;if(r&&o){const i={__args__:s};r.triggerEvent(o,i)}return e.apply(this,[o,...s])}}function Wc(e,t){const n=e.ctx;n.mpType=t.mpType,n.$mpType=t.mpType,n.$mpPlatform="mp-weixin",n.$scope=t.mpInstance,n.$mp={},n._self={},e.slots={},L(t.slots)&&t.slots.length&&(t.slots.forEach(o=>{e.slots[o]=!0}),e.slots[ru]&&(e.slots.default=!0)),n.getOpenerEventChannel=function(){return t.mpInstance.getOpenerEventChannel()},n.$hasHook=dh,n.$callHook=zc,e.emit=uh(e.emit,n)}function lh(e,t){Wc(e,t);const n=e.ctx;ah.forEach(o=>{n[o]=function(...s){const r=n.$scope;if(r&&r[o])return r[o].apply(r,s)}})}function fh(e,t,n){const o=e.ctx;n.forEach(s=>{$(t,s)&&(e[s]=o[s]=t[s])})}function dh(e){const t=this.$[e];return!!(t&&t.length)}function zc(e,t){e==="mounted"&&(zc.call(this,"bm"),this.$.isMounted=!0,e="m");const n=this.$[e];return n&&lu(n,t)}const ph=[Kt,qt,Bt,Xo,mi,Zo,es,ts,ns];function Fo(e,t=new Set){if(e){Object.keys(e).forEach(n=>{Ci(n,e[n])&&t.add(n)});{const{extends:n,mixins:o}=e;o&&o.forEach(s=>Fo(s,t)),n&&Fo(n,t)}}return t}function vs(e,t,n){n.indexOf(t)===-1&&!$(e,t)&&(e[t]=function(o){return this.$vm&&this.$vm.$callHook(t,o)})}const Jc=[Qo];function Ss(e,t,n=Jc){t.forEach(o=>vs(e,o,n))}function Gc(e,t,n=Jc){Fo(t).forEach(o=>vs(e,o,n))}function hh(e,t){if(!t)return;Object.keys(ho).forEach(o=>{t&ho[o]&&vs(e,o,[])})}const gh=xi(()=>{const e=[],t=x(getApp)&&getApp({allowDefault:!0});if(t&&t.$vm&&t.$vm.$){const n=t.$vm.$.appContext.mixins;if(L(n)){const o=Object.keys(ho);n.forEach(s=>{o.forEach(r=>{$(s,r)&&!e.includes(r)&&e.push(r)})})}}return e});function mh(e){Ss(e,gh())}const _h=[qt,Bt,Yo,fi,di,pi];function Ps(e,t){const n=e.$,o={globalData:e.$options&&e.$options.globalData||{},$vm:e,onLaunch(r){this.$vm=e;const i=n.ctx;this.$vm&&i.$scope||(Wc(n,{mpType:"app",mpInstance:this,slots:[]}),i.globalData=this.globalData,e.$callHook(Go,r))}};wh(e);const s=e.$.type;Ss(o,_h),Gc(o,s);{const r=s.methods;r&&q(o,r)}return t&&t.parse(o),o}function yh(e){return function(n){return App(Ps(n,e))}}function bh(e){return function(n){const o=Ps(n,e),s=x(getApp)&&getApp({allowDefault:!0});if(!s)return;n.$.ctx.$scope=s;const r=s.globalData;r&&Object.keys(o.globalData).forEach(i=>{$(r,i)||(r[i]=o.globalData[i])}),Object.keys(o).forEach(i=>{$(s,i)||(s[i]=o[i])}),Yc(o,n)}}function Yc(e,t){if(x(e.onLaunch)){const n=wx.getLaunchOptionsSync&&wx.getLaunchOptionsSync();e.onLaunch(n)}x(e.onShow)&&wx.onAppShow&&wx.onAppShow(n=>{t.$callHook("onShow",n)}),x(e.onHide)&&wx.onAppHide&&wx.onAppHide(n=>{t.$callHook("onHide",n)})}function wh(e){const t=Vt(dn(wx.getSystemInfoSync().language)||$e);Object.defineProperty(e,"$locale",{get(){return t.value},set(n){t.value=n}})}function vh(e,t){if(!e)return;const n=e.split(","),o=n.length;o===1?t._$vueId=n[0]:o===2&&(t._$vueId=n[0],t._$vuePid=n[1])}const Sh=["externalClasses"];function Ph(e,t){Sh.forEach(n=>{$(t,n)&&(e[n]=t[n])})}const Ih=/_(.*)_worklet_factory_/;function Ah(e,t){t&&Object.keys(t).forEach(n=>{const o=n.match(Ih);if(o){const s=o[1];e[n]=t[n],e[s]=t[s]}})}function xh(e,t){L(t)&&t.forEach(n=>{e[n]=function(o){return this.$vm[n](o)}})}function Oh(e,t,n){e.selectAllComponents(t).forEach(s=>{const r=s.properties.uR;n[r]=s.$vm||s})}function Th(e,t){Object.defineProperty(e,"refs",{get(){const n={};return Oh(t,".r",n),t.selectAllComponents(".r-i-f").forEach(s=>{const r=s.properties.uR;r&&(n[r]||(n[r]=[]),n[r].push(s.$vm||s))}),n}})}function Qc(e,t){const n=e.$children;for(let s=n.length-1;s>=0;s--){const r=n[s];if(r.$scope._$vueId===t)return r}let o;for(let s=n.length-1;s>=0;s--)if(o=Qc(n[s],t),o)return o}const Xc=["eO","uR","uRIF","uI","uT","uP","uS"];function Ch(e,t=!1){const n={};return t||(Xc.forEach(o=>{n[o]={type:null,value:""}}),n.uS={type:null,value:[],observer:function(o){const s=Object.create(null);o&&o.forEach(r=>{s[r]=!0}),this.setData({$slots:s})}}),e.behaviors&&e.behaviors.includes("wx://form-field")&&(n.name={type:null,value:""},n.value={type:null,value:""}),n}function Eh(e){const t={};return e&&e.virtualHost&&(t.virtualHostStyle={type:null,value:""},t.virtualHostClass={type:null,value:""}),t}function Zc(e){e.properties||(e.properties={}),q(e.properties,Ch(e),Eh(e.options))}const kh=[String,Number,Boolean,Object,Array,null];function $h(e,t){return L(e)&&e.length===1?e[0]:e}function vr(e,t){const n=$h(e);return kh.indexOf(n)!==-1?n:null}function Rh({properties:e},t){L(t)?t.forEach(n=>{e[n]={type:String,value:""}}):J(t)&&Object.keys(t).forEach(n=>{const o=t[n];if(J(o)){let s=o.default;x(s)&&(s=s());const r=o.type;o.type=vr(r),e[n]={type:o.type,value:s}}else e[n]={type:vr(o)}})}function Lh(e,t){return(t?Nh(e):ws(e.uP))||{}}function Nh(e){const t={};return J(e)&&Object.keys(e).forEach(n=>{Xc.indexOf(n)===-1&&(t[n]=e[n])}),t}function Dh(e){const t=e.$options;L(t.behaviors)&&t.behaviors.includes("uni://form-field")&&e.$watch("modelValue",()=>{e.$scope&&e.$scope.setData({name:e.name,value:e.modelValue})},{immediate:!0})}function jh(e){return{}}function ea(e){const t=function(){const o=this.properties.uP;o&&(this.$vm?Mh(o,this.$vm.$):this.properties.uT==="m"&&Uh(o,this))};e.observers||(e.observers={}),e.observers.uP=t}function Uh(e,t){const n=t.properties,o=ws(e)||{};ta(n,o,!1)&&t.setData(o)}function Mh(e,t){const n=D(t.props),o=ws(e)||{};ta(n,o)&&(ep(t,o,n,!1),hd(t.update)&&gd(t.update),t.update())}function ta(e,t,n=!0){const o=Object.keys(t);if(n&&o.length!==Object.keys(e).length)return!0;for(let s=0;s<o.length;s++){const r=o[s];if(t[r]!==e[r])return!0}return!1}function Fh(e){const t=e.behaviors;let n=e.props;n||(e.props=n=[]);const o=[];return L(t)&&t.forEach(s=>{o.push(s.replace("uni://","wx://")),s==="uni://form-field"&&(L(n)?(n.push("name"),n.push("modelValue")):(n.name={type:String,default:""},n.modelValue={type:[String,Number,Boolean,Array,Object,Date],default:""}))}),o}function Hh(e,t){e.data=jh(),e.behaviors=Fh(t)}function na(e,{parse:t,mocks:n,isPage:o,initRelation:s,handleLink:r,initLifetimes:i}){e=e.default||e;const c={multipleSlots:!0,addGlobalClass:!0,pureDataPattern:/^uP$/};L(e.mixins)&&e.mixins.forEach(a=>{V(a.options)&&q(c,a.options)}),e.options&&q(c,e.options);const u={options:c,lifetimes:i({mocks:n,isPage:o,initRelation:s,vueOptions:e}),pageLifetimes:{show(){this.$vm&&this.$vm.$callHook("onPageShow")},hide(){this.$vm&&this.$vm.$callHook("onPageHide")},resize(a){this.$vm&&this.$vm.$callHook("onPageResize",a)}},methods:{__l:r}};return Hh(u,e),Zc(u),ea(u),Ph(u,e),xh(u.methods,e.wxsCallMethods),Ah(u.methods,e.methods),t&&t(u,{handleLink:r}),u}function qh(e){return function(n){return Component(na(n,e))}}let Xn,Zn;function oa(){return getApp().$vm}function Bh(e,t){Xn||(Xn=oa().$createComponent);const n=Xn(e,t);return Hn(n.$)||n}function Kh(e){return Zn||(Zn=oa().$destroyComponent),Zn(e)}function Vh(e,t){const{parse:n,mocks:o,isPage:s,initRelation:r,handleLink:i,initLifetimes:c}=t,u=na(e,{mocks:o,isPage:s,initRelation:r,handleLink:i,initLifetimes:c});Rh(u,(e.default||e).props);const a=u.methods;return a.onLoad=function(f){return this.options=f,this.$page={fullPath:uu(this.route+du(f))},this.$vm&&this.$vm.$callHook(Kt,f)},Ss(a,ph),Gc(a,e),hh(a,e.__runtimeHooks),mh(a),n&&n(u,{handleLink:i}),u}function Wh(e){return function(n){return Component(Vh(n,e))}}function zh(e){return function(n){Yc(Ps(n,e),n)}}const Jh=Page,Gh=Component;function Sr(e){const t=e.triggerEvent,n=function(o,...s){return t.apply(e,[cu(o),...s])};try{e.triggerEvent=n}catch{e._triggerEvent=n}}function sa(e,t,n){const o=t[e];o?t[e]=function(...s){return Sr(this),o.apply(this,s)}:t[e]=function(){Sr(this)}}Page=function(e){return sa(Kt,e),Jh(e)};Component=function(e){return sa("created",e),e.properties&&e.properties.uP||(Zc(e),ea(e)),Gh(e)};function Yh({mocks:e,isPage:t,initRelation:n,vueOptions:o}){return{attached(){let s=this.properties;vh(s.uI,this);const r={vuePid:this._$vuePid};n(this,r);const i=this,c=t(i);let u=s;this.$vm=Bh({type:o,props:Lh(u,c)},{mpType:c?"page":"component",mpInstance:i,slots:s.uS||{},parentComponent:r.parent&&r.parent.$,onBeforeSetup(a,f){Th(a,i),fh(a,i,e),lh(a,f)}}),c||Dh(this.$vm)},ready(){this.$vm&&(this.$vm.$callHook("mounted"),this.$vm.$callHook(Qo))},detached(){this.$vm&&(Vc(this.$vm.$.uid),Kh(this.$vm))}}}const Qh=["__route__","__wxExparserNodeId__","__wxWebviewId__"];function Xh(e){return!!e.route}function Zh(e,t){e.triggerEvent("__l",t)}function eg(e){const t=e.detail||e.value,n=t.vuePid;let o;n&&(o=Qc(this.$vm,n)),o||(o=this.$vm),t.parent=o}var ra=Object.freeze({__proto__:null,handleLink:eg,initLifetimes:Yh,initRelation:Zh,isPage:Xh,mocks:Qh});const tg=yh(),ng=Wh(ra),og=qh(ra),sg=zh(),rg=bh();wx.createApp=global.createApp=tg,wx.createPage=ng,wx.createComponent=og,wx.createPluginApp=global.createPluginApp=sg,wx.createSubpackageApp=global.createSubpackageApp=rg;const Is=e=>(t,n=Fn())=>{!jt&&St(e,t,n)},ig=Is(qt),cg=Is(Bt),ag=Is(Go);var ug=!1;function on(e,t,n){return Array.isArray(e)?(e.length=Math.max(e.length,t),e.splice(t,1,n),n):(e[t]=n,n)}function eo(e,t){if(Array.isArray(e)){e.splice(t,1);return}delete e[t]}/*!
  * pinia v2.0.33
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */let On;const Ze=e=>On=e,lg=()=>Fn()&&Et(Bn)||On,Bn=Symbol("pinia");function et(e){return e&&typeof e=="object"&&Object.prototype.toString.call(e)==="[object Object]"&&typeof e.toJSON!="function"}var at;(function(e){e.direct="direct",e.patchObject="patch object",e.patchFunction="patch function"})(at||(at={}));const Kn=typeof window<"u",Tn=Kn,Pr=[],Ir=e=>"🍍 "+e;function fg(e,t){Pr.includes(Ir(t.$id))||Pr.push(Ir(t.$id))}function Ar(e,t){const n=t.reduce((o,s)=>(o[s]=D(e)[s],o),{});for(const o in n)e[o]=function(){const s=new Proxy(e,{get(...r){return Reflect.get(...r)},set(...r){return Reflect.set(...r)}});return n[o].apply(s,arguments)}}function dg({app:e,store:t,options:n}){if(!t.$id.startsWith("__hot:")){if(n.state&&(t._isOptionsAPI=!0),typeof n.state=="function"){Ar(t,Object.keys(n.actions));const o=t._hotUpdate;D(t)._hotUpdate=function(s){o.apply(this,arguments),Ar(t,Object.keys(s._hmrPayload.actions))}}fg(e,t)}}function ia(){const e=Qi(!0),t=e.run(()=>Vt({}));let n=[],o=[];const s=pe({install(r){Ze(s),s._a=r,r.provide(Bn,s),r.config.globalProperties.$pinia=s,o.forEach(i=>n.push(i)),o=[]},use(r){return!this._a&&!ug?o.push(r):n.push(r),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return Tn&&typeof Proxy<"u"&&s.use(dg),s}const pg=e=>typeof e=="function"&&typeof e.$id=="string";function ca(e,t){for(const n in t){const o=t[n];if(!(n in e))continue;const s=e[n];et(s)&&et(o)&&!H(o)&&!ve(o)?e[n]=ca(s,o):e[n]=o}return e}function hg(e,t){return n=>{const o=t.data.pinia||e._pinia;if(o){t.data.pinia=o;for(const s in n){const r=n[s];if(pg(r)&&o._s.has(r.$id)){const i=r.$id;if(i!==e.$id)return console.warn(`The id of the store changed from "${e.$id}" to "${i}". Reloading.`),t.invalidate();const c=o._s.get(i);if(!c){console.log("[Pinia]: skipping hmr because store doesn't exist yet");return}r(o,c)}}}}}const gg=()=>{};function xr(e,t,n,o=gg){e.push(t);const s=()=>{const r=e.indexOf(t);r>-1&&(e.splice(r,1),o())};return!n&&Xi()&&If(s),s}function st(e,...t){e.slice().forEach(n=>{n(...t)})}function Ho(e,t){e instanceof Map&&t instanceof Map&&t.forEach((n,o)=>e.set(o,n)),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e);for(const n in t){if(!t.hasOwnProperty(n))continue;const o=t[n],s=e[n];et(s)&&et(o)&&e.hasOwnProperty(n)&&!H(o)&&!ve(o)?e[n]=Ho(s,o):e[n]=o}return e}const aa=Symbol("pinia:skipHydration");function mg(e){return Object.defineProperty(e,aa,{})}function _g(e){return!et(e)||!e.hasOwnProperty(aa)}const{assign:le}=Object;function Or(e){return!!(H(e)&&e.effect)}function Tr(e,t,n,o){const{state:s,actions:r,getters:i}=t,c=n.state.value[e];let u;function a(){!c&&!o&&(n.state.value[e]=s?s():{});const f=nr(o?Vt(s?s():{}).value:n.state.value[e]);return le(f,r,Object.keys(i||{}).reduce((l,p)=>(p in f&&console.warn(`[🍍]: A getter cannot have the same name as another state property. Rename one of them. Found with "${p}" in store "${e}".`),l[p]=pe(bs(()=>{Ze(n);const g=n._s.get(e);return i[p].call(g,g)})),l),{}))}return u=qo(e,a,t,n,o,!0),u}function qo(e,t,n={},o,s,r){let i;const c=le({actions:{}},n);if(!o._e.active)throw new Error("Pinia destroyed");const u={deep:!0};u.onTrigger=C=>{a?g=C:a==!1&&!T._hotUpdating&&(Array.isArray(g)?g.push(C):console.error("🍍 debuggerEvents should be an array. This is most likely an internal Pinia bug."))};let a,f,l=pe([]),p=pe([]),g;const _=o.state.value[e];!r&&!_&&!s&&(o.state.value[e]={});const h=Vt({});let d;function m(C){let O;a=f=!1,g=[],typeof C=="function"?(C(o.state.value[e]),O={type:at.patchFunction,storeId:e,events:g}):(Ho(o.state.value[e],C),O={type:at.patchObject,payload:C,storeId:e,events:g});const M=d=Symbol();wn().then(()=>{d===M&&(a=!0)}),f=!0,st(l,O,o.state.value[e])}const b=r?function(){const{state:O}=n,M=O?O():{};this.$patch(W=>{le(W,M)})}:()=>{throw new Error(`🍍: Store "${e}" is built using the setup syntax and does not implement $reset().`)};function y(){i.stop(),l=[],p=[],o._s.delete(e)}function w(C,O){return function(){Ze(o);const M=Array.from(arguments),W=[],Z=[];function Ue(N){W.push(N)}function ue(N){Z.push(N)}st(p,{args:M,name:C,store:T,after:Ue,onError:ue});let B;try{B=O.apply(this&&this.$id===e?this:T,M)}catch(N){throw st(Z,N),N}return B instanceof Promise?B.then(N=>(st(W,N),N)).catch(N=>(st(Z,N),Promise.reject(N))):(st(W,B),B)}}const A=pe({actions:{},getters:{},state:[],hotState:h}),E={_p:o,$id:e,$onAction:xr.bind(null,p),$patch:m,$reset:b,$subscribe(C,O={}){const M=xr(l,C,O.detached,()=>W()),W=i.run(()=>ln(()=>o.state.value[e],Z=>{(O.flush==="sync"?f:a)&&C({storeId:e,type:at.direct,events:g},Z)},le({},u,O)));return M},$dispose:y},T=jn(le({_hmrPayload:A,_customProperties:pe(new Set)},E));o._s.set(e,T);const F=o._e.run(()=>(i=Qi(),i.run(()=>t())));for(const C in F){const O=F[C];if(H(O)&&!Or(O)||ve(O))s?on(h.value,C,Ct(F,C)):r||(_&&_g(O)&&(H(O)?O.value=_[C]:Ho(O,_[C])),o.state.value[e][C]=O),A.state.push(C);else if(typeof O=="function"){const M=s?O:w(C,O);F[C]=M,A.actions[C]=O,c.actions[C]=O}else Or(O)&&(A.getters[C]=r?n.getters[C]:O,Kn&&(F._getters||(F._getters=pe([]))).push(C))}if(le(T,F),le(D(T),F),Object.defineProperty(T,"$state",{get:()=>s?h.value:o.state.value[e],set:C=>{if(s)throw new Error("cannot set hotState");m(O=>{le(O,C)})}}),T._hotUpdate=pe(C=>{T._hotUpdating=!0,C._hmrPayload.state.forEach(O=>{if(O in T.$state){const M=C.$state[O],W=T.$state[O];typeof M=="object"&&et(M)&&et(W)?ca(M,W):C.$state[O]=W}on(T,O,Ct(C.$state,O))}),Object.keys(T.$state).forEach(O=>{O in C.$state||eo(T,O)}),a=!1,f=!1,o.state.value[e]=Ct(C._hmrPayload,"hotState"),f=!0,wn().then(()=>{a=!0});for(const O in C._hmrPayload.actions){const M=C[O];on(T,O,w(O,M))}for(const O in C._hmrPayload.getters){const M=C._hmrPayload.getters[O],W=r?bs(()=>(Ze(o),M.call(T,T))):M;on(T,O,W)}Object.keys(T._hmrPayload.getters).forEach(O=>{O in C._hmrPayload.getters||eo(T,O)}),Object.keys(T._hmrPayload.actions).forEach(O=>{O in C._hmrPayload.actions||eo(T,O)}),T._hmrPayload=C._hmrPayload,T._getters=C._getters,T._hotUpdating=!1}),Tn){const C={writable:!0,configurable:!0,enumerable:!1};["_p","_hmrPayload","_getters","_customProperties"].forEach(O=>{Object.defineProperty(T,O,le({value:T[O]},C))})}return o._p.forEach(C=>{if(Tn){const O=i.run(()=>C({store:T,app:o._a,pinia:o,options:c}));Object.keys(O||{}).forEach(M=>T._customProperties.add(M)),le(T,O)}else le(T,i.run(()=>C({store:T,app:o._a,pinia:o,options:c})))}),T.$state&&typeof T.$state=="object"&&typeof T.$state.constructor=="function"&&!T.$state.constructor.toString().includes("[native code]")&&console.warn(`[🍍]: The "state" must be a plain object. It cannot be
	state: () => new MyClass()
Found in store "${T.$id}".`),_&&r&&n.hydrate&&n.hydrate(T.$state,_),a=!0,f=!0,T}function ua(e,t,n){let o,s;const r=typeof t=="function";typeof e=="string"?(o=e,s=r?n:t):(s=e,o=e.id);function i(c,u){const a=Fn();if(c=c||a&&Et(Bn,null),c&&Ze(c),!On)throw new Error(`[🍍]: getActivePinia was called with no active Pinia. Did you forget to install pinia?
	const pinia = createPinia()
	app.use(pinia)
This will fail in production.`);c=On,c._s.has(o)||(r?qo(o,t,s,c):Tr(o,s,c),i._pinia=c);const f=c._s.get(o);if(u){const l="__hot:"+o,p=r?qo(l,t,s,c,!0):Tr(l,le({},s),c,!0);u._hotUpdate(p),delete c.state.value[l],c._s.delete(l)}if(Kn&&a&&a.proxy&&!u){const l=a.proxy,p="_pStores"in l?l._pStores:l._pStores={};p[o]=f}return f}return i.$id=o,i}let la="Store";function yg(e){la=e}function bg(...e){return Array.isArray(e[0])&&(console.warn(`[🍍]: Directly pass all stores to "mapStores()" without putting them in an array:
Replace
	mapStores([useAuthStore, useCartStore])
with
	mapStores(useAuthStore, useCartStore)
This will fail in production if not fixed.`),e=e[0]),e.reduce((t,n)=>(t[n.$id+la]=function(){return n(this.$pinia)},t),{})}function fa(e,t){return Array.isArray(t)?t.reduce((n,o)=>(n[o]=function(){return e(this.$pinia)[o]},n),{}):Object.keys(t).reduce((n,o)=>(n[o]=function(){const s=e(this.$pinia),r=t[o];return typeof r=="function"?r.call(this,s):s[r]},n),{})}const wg=fa;function vg(e,t){return Array.isArray(t)?t.reduce((n,o)=>(n[o]=function(...s){return e(this.$pinia)[o](...s)},n),{}):Object.keys(t).reduce((n,o)=>(n[o]=function(...s){return e(this.$pinia)[t[o]](...s)},n),{})}function Sg(e,t){return Array.isArray(t)?t.reduce((n,o)=>(n[o]={get(){return e(this.$pinia)[o]},set(s){return e(this.$pinia)[o]=s}},n),{}):Object.keys(t).reduce((n,o)=>(n[o]={get(){return e(this.$pinia)[t[o]]},set(s){return e(this.$pinia)[t[o]]=s}},n),{})}function da(e){{e=D(e);const t={};for(const n in e){const o=e[n];(H(o)||ve(o))&&(t[n]=Ct(e,n))}return t}}const Pg=function(e){e.mixin({beforeCreate(){const t=this.$options;if(t.pinia){const n=t.pinia;if(!this._provided){const o={};Object.defineProperty(this,"_provided",{get:()=>o,set:s=>Object.assign(o,s)})}this._provided[Bn]=n,this.$pinia||(this.$pinia=n),n._a=this,Kn&&Ze(n),Tn&&(n._a,void 0)}else!this.$pinia&&t.parent&&t.parent.$pinia&&(this.$pinia=t.parent.$pinia)},destroyed(){delete this._pStores}})},Ig=Object.freeze(Object.defineProperty({__proto__:null,get MutationType(){return at},PiniaVuePlugin:Pg,acceptHMRUpdate:hg,createPinia:ia,defineStore:ua,getActivePinia:lg,mapActions:vg,mapGetters:wg,mapState:fa,mapStores:bg,mapWritableState:Sg,setActivePinia:Ze,setMapStoreSuffix:yg,skipHydrate:mg,storeToRefs:da},Symbol.toStringTag,{value:"Module"})),Ag=[{path:"pages/index/index",style:{}},{path:"pages/recommend/recommend",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}},{path:"pages/mine/mine",style:{navigationBarTitleText:"",enablePullDownRefresh:!1}}],xg={navigationStyle:"custom"},Og={},Tg={autoscan:!0},pa={pages:Ag,globalStyle:xg,uniIdRouter:Og,easycom:Tg};function Cg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Je(e,t,n){return e(n={path:t,exports:{},require:function(o,s){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}(s==null&&n.path)}},n.exports),n.exports}var Eg=Je(function(e,t){var n;e.exports=(n=n||function(o,s){var r=Object.create||function(){function d(){}return function(m){var b;return d.prototype=m,b=new d,d.prototype=null,b}}(),i={},c=i.lib={},u=c.Base={extend:function(d){var m=r(this);return d&&m.mixIn(d),m.hasOwnProperty("init")&&this.init!==m.init||(m.init=function(){m.$super.init.apply(this,arguments)}),m.init.prototype=m,m.$super=this,m},create:function(){var d=this.extend();return d.init.apply(d,arguments),d},init:function(){},mixIn:function(d){for(var m in d)d.hasOwnProperty(m)&&(this[m]=d[m]);d.hasOwnProperty("toString")&&(this.toString=d.toString)},clone:function(){return this.init.prototype.extend(this)}},a=c.WordArray=u.extend({init:function(d,m){d=this.words=d||[],this.sigBytes=m!=s?m:4*d.length},toString:function(d){return(d||l).stringify(this)},concat:function(d){var m=this.words,b=d.words,y=this.sigBytes,w=d.sigBytes;if(this.clamp(),y%4)for(var A=0;A<w;A++){var E=b[A>>>2]>>>24-A%4*8&255;m[y+A>>>2]|=E<<24-(y+A)%4*8}else for(A=0;A<w;A+=4)m[y+A>>>2]=b[A>>>2];return this.sigBytes+=w,this},clamp:function(){var d=this.words,m=this.sigBytes;d[m>>>2]&=4294967295<<32-m%4*8,d.length=o.ceil(m/4)},clone:function(){var d=u.clone.call(this);return d.words=this.words.slice(0),d},random:function(d){for(var m,b=[],y=function(E){E=E;var T=987654321,F=4294967295;return function(){var C=((T=36969*(65535&T)+(T>>16)&F)<<16)+(E=18e3*(65535&E)+(E>>16)&F)&F;return C/=4294967296,(C+=.5)*(o.random()>.5?1:-1)}},w=0;w<d;w+=4){var A=y(4294967296*(m||o.random()));m=987654071*A(),b.push(4294967296*A()|0)}return new a.init(b,d)}}),f=i.enc={},l=f.Hex={stringify:function(d){for(var m=d.words,b=d.sigBytes,y=[],w=0;w<b;w++){var A=m[w>>>2]>>>24-w%4*8&255;y.push((A>>>4).toString(16)),y.push((15&A).toString(16))}return y.join("")},parse:function(d){for(var m=d.length,b=[],y=0;y<m;y+=2)b[y>>>3]|=parseInt(d.substr(y,2),16)<<24-y%8*4;return new a.init(b,m/2)}},p=f.Latin1={stringify:function(d){for(var m=d.words,b=d.sigBytes,y=[],w=0;w<b;w++){var A=m[w>>>2]>>>24-w%4*8&255;y.push(String.fromCharCode(A))}return y.join("")},parse:function(d){for(var m=d.length,b=[],y=0;y<m;y++)b[y>>>2]|=(255&d.charCodeAt(y))<<24-y%4*8;return new a.init(b,m)}},g=f.Utf8={stringify:function(d){try{return decodeURIComponent(escape(p.stringify(d)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(d){return p.parse(unescape(encodeURIComponent(d)))}},_=c.BufferedBlockAlgorithm=u.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(d){typeof d=="string"&&(d=g.parse(d)),this._data.concat(d),this._nDataBytes+=d.sigBytes},_process:function(d){var m=this._data,b=m.words,y=m.sigBytes,w=this.blockSize,A=y/(4*w),E=(A=d?o.ceil(A):o.max((0|A)-this._minBufferSize,0))*w,T=o.min(4*E,y);if(E){for(var F=0;F<E;F+=w)this._doProcessBlock(b,F);var C=b.splice(0,E);m.sigBytes-=T}return new a.init(C,T)},clone:function(){var d=u.clone.call(this);return d._data=this._data.clone(),d},_minBufferSize:0});c.Hasher=_.extend({cfg:u.extend(),init:function(d){this.cfg=this.cfg.extend(d),this.reset()},reset:function(){_.reset.call(this),this._doReset()},update:function(d){return this._append(d),this._process(),this},finalize:function(d){return d&&this._append(d),this._doFinalize()},blockSize:16,_createHelper:function(d){return function(m,b){return new d.init(b).finalize(m)}},_createHmacHelper:function(d){return function(m,b){return new h.HMAC.init(d,b).finalize(m)}}});var h=i.algo={};return i}(Math),n)}),kt=Eg,kg=(Je(function(e,t){var n;e.exports=(n=kt,function(o){var s=n,r=s.lib,i=r.WordArray,c=r.Hasher,u=s.algo,a=[];(function(){for(var h=0;h<64;h++)a[h]=4294967296*o.abs(o.sin(h+1))|0})();var f=u.MD5=c.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(h,d){for(var m=0;m<16;m++){var b=d+m,y=h[b];h[b]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8)}var w=this._hash.words,A=h[d+0],E=h[d+1],T=h[d+2],F=h[d+3],C=h[d+4],O=h[d+5],M=h[d+6],W=h[d+7],Z=h[d+8],Ue=h[d+9],ue=h[d+10],B=h[d+11],N=h[d+12],j=h[d+13],de=h[d+14],nt=h[d+15],v=w[0],I=w[1],S=w[2],P=w[3];v=l(v,I,S,P,A,7,a[0]),P=l(P,v,I,S,E,12,a[1]),S=l(S,P,v,I,T,17,a[2]),I=l(I,S,P,v,F,22,a[3]),v=l(v,I,S,P,C,7,a[4]),P=l(P,v,I,S,O,12,a[5]),S=l(S,P,v,I,M,17,a[6]),I=l(I,S,P,v,W,22,a[7]),v=l(v,I,S,P,Z,7,a[8]),P=l(P,v,I,S,Ue,12,a[9]),S=l(S,P,v,I,ue,17,a[10]),I=l(I,S,P,v,B,22,a[11]),v=l(v,I,S,P,N,7,a[12]),P=l(P,v,I,S,j,12,a[13]),S=l(S,P,v,I,de,17,a[14]),v=p(v,I=l(I,S,P,v,nt,22,a[15]),S,P,E,5,a[16]),P=p(P,v,I,S,M,9,a[17]),S=p(S,P,v,I,B,14,a[18]),I=p(I,S,P,v,A,20,a[19]),v=p(v,I,S,P,O,5,a[20]),P=p(P,v,I,S,ue,9,a[21]),S=p(S,P,v,I,nt,14,a[22]),I=p(I,S,P,v,C,20,a[23]),v=p(v,I,S,P,Ue,5,a[24]),P=p(P,v,I,S,de,9,a[25]),S=p(S,P,v,I,F,14,a[26]),I=p(I,S,P,v,Z,20,a[27]),v=p(v,I,S,P,j,5,a[28]),P=p(P,v,I,S,T,9,a[29]),S=p(S,P,v,I,W,14,a[30]),v=g(v,I=p(I,S,P,v,N,20,a[31]),S,P,O,4,a[32]),P=g(P,v,I,S,Z,11,a[33]),S=g(S,P,v,I,B,16,a[34]),I=g(I,S,P,v,de,23,a[35]),v=g(v,I,S,P,E,4,a[36]),P=g(P,v,I,S,C,11,a[37]),S=g(S,P,v,I,W,16,a[38]),I=g(I,S,P,v,ue,23,a[39]),v=g(v,I,S,P,j,4,a[40]),P=g(P,v,I,S,A,11,a[41]),S=g(S,P,v,I,F,16,a[42]),I=g(I,S,P,v,M,23,a[43]),v=g(v,I,S,P,Ue,4,a[44]),P=g(P,v,I,S,N,11,a[45]),S=g(S,P,v,I,nt,16,a[46]),v=_(v,I=g(I,S,P,v,T,23,a[47]),S,P,A,6,a[48]),P=_(P,v,I,S,W,10,a[49]),S=_(S,P,v,I,de,15,a[50]),I=_(I,S,P,v,O,21,a[51]),v=_(v,I,S,P,N,6,a[52]),P=_(P,v,I,S,F,10,a[53]),S=_(S,P,v,I,ue,15,a[54]),I=_(I,S,P,v,E,21,a[55]),v=_(v,I,S,P,Z,6,a[56]),P=_(P,v,I,S,nt,10,a[57]),S=_(S,P,v,I,M,15,a[58]),I=_(I,S,P,v,j,21,a[59]),v=_(v,I,S,P,C,6,a[60]),P=_(P,v,I,S,B,10,a[61]),S=_(S,P,v,I,T,15,a[62]),I=_(I,S,P,v,Ue,21,a[63]),w[0]=w[0]+v|0,w[1]=w[1]+I|0,w[2]=w[2]+S|0,w[3]=w[3]+P|0},_doFinalize:function(){var h=this._data,d=h.words,m=8*this._nDataBytes,b=8*h.sigBytes;d[b>>>5]|=128<<24-b%32;var y=o.floor(m/4294967296),w=m;d[15+(b+64>>>9<<4)]=16711935&(y<<8|y>>>24)|4278255360&(y<<24|y>>>8),d[14+(b+64>>>9<<4)]=16711935&(w<<8|w>>>24)|4278255360&(w<<24|w>>>8),h.sigBytes=4*(d.length+1),this._process();for(var A=this._hash,E=A.words,T=0;T<4;T++){var F=E[T];E[T]=16711935&(F<<8|F>>>24)|4278255360&(F<<24|F>>>8)}return A},clone:function(){var h=c.clone.call(this);return h._hash=this._hash.clone(),h}});function l(h,d,m,b,y,w,A){var E=h+(d&m|~d&b)+y+A;return(E<<w|E>>>32-w)+d}function p(h,d,m,b,y,w,A){var E=h+(d&b|m&~b)+y+A;return(E<<w|E>>>32-w)+d}function g(h,d,m,b,y,w,A){var E=h+(d^m^b)+y+A;return(E<<w|E>>>32-w)+d}function _(h,d,m,b,y,w,A){var E=h+(m^(d|~b))+y+A;return(E<<w|E>>>32-w)+d}s.MD5=c._createHelper(f),s.HmacMD5=c._createHmacHelper(f)}(Math),n.MD5)}),Je(function(e,t){var n;e.exports=(n=kt,void function(){var o=n,s=o.lib.Base,r=o.enc.Utf8;o.algo.HMAC=s.extend({init:function(i,c){i=this._hasher=new i.init,typeof c=="string"&&(c=r.parse(c));var u=i.blockSize,a=4*u;c.sigBytes>a&&(c=i.finalize(c)),c.clamp();for(var f=this._oKey=c.clone(),l=this._iKey=c.clone(),p=f.words,g=l.words,_=0;_<u;_++)p[_]^=1549556828,g[_]^=909522486;f.sigBytes=l.sigBytes=a,this.reset()},reset:function(){var i=this._hasher;i.reset(),i.update(this._iKey)},update:function(i){return this._hasher.update(i),this},finalize:function(i){var c=this._hasher,u=c.finalize(i);return c.reset(),c.finalize(this._oKey.clone().concat(u))}})}())}),Je(function(e,t){e.exports=kt.HmacMD5})),$g=Je(function(e,t){e.exports=kt.enc.Utf8}),Rg=Je(function(e,t){var n;e.exports=(n=kt,function(){var o=n,s=o.lib.WordArray;function r(i,c,u){for(var a=[],f=0,l=0;l<c;l++)if(l%4){var p=u[i.charCodeAt(l-1)]<<l%4*2,g=u[i.charCodeAt(l)]>>>6-l%4*2;a[f>>>2]|=(p|g)<<24-f%4*8,f++}return s.create(a,f)}o.enc.Base64={stringify:function(i){var c=i.words,u=i.sigBytes,a=this._map;i.clamp();for(var f=[],l=0;l<u;l+=3)for(var p=(c[l>>>2]>>>24-l%4*8&255)<<16|(c[l+1>>>2]>>>24-(l+1)%4*8&255)<<8|c[l+2>>>2]>>>24-(l+2)%4*8&255,g=0;g<4&&l+.75*g<u;g++)f.push(a.charAt(p>>>6*(3-g)&63));var _=a.charAt(64);if(_)for(;f.length%4;)f.push(_);return f.join("")},parse:function(i){var c=i.length,u=this._map,a=this._reverseMap;if(!a){a=this._reverseMap=[];for(var f=0;f<u.length;f++)a[u.charCodeAt(f)]=f}var l=u.charAt(64);if(l){var p=i.indexOf(l);p!==-1&&(c=p)}return r(i,c,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),n.enc.Base64)});const Cr="FUNCTION",Lg="OBJECT",Ng="CLIENT_DB",Er="pending",Dg="fullfilled",kr="rejected";function As(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}function ha(e){return As(e)==="object"}function ga(e){return typeof e=="function"}function jg(e){return function(){try{return e.apply(e,arguments)}catch(t){console.error(t)}}}const $r="REJECTED",ma="NOT_PENDING";class xs{constructor({createPromise:t,retryRule:n=$r}={}){this.createPromise=t,this.status=null,this.promise=null,this.retryRule=n}get needRetry(){if(!this.status)return!0;switch(this.retryRule){case $r:return this.status===kr;case ma:return this.status!==Er}}exec(){return this.needRetry?(this.status=Er,this.promise=this.createPromise().then(t=>(this.status=Dg,Promise.resolve(t)),t=>(this.status=kr,Promise.reject(t))),this.promise):this.promise}}function Os(e){return e&&typeof e=="string"?JSON.parse(e):e}const Ug=!0,Mg="mp-weixin",Fg=Os([]),gt=Mg,Hg=Os(`{
    "address": [
        "127.0.0.1",
        "192.168.36.39",
        "172.27.32.1"
    ],
    "debugPort": 9000,
    "initialLaunchType": "local",
    "servePort": 7000,
    "skipFiles": [
        "<node_internals>/**",
        "C:/Program Files/HBuilderX/plugins/unicloud/**/*.js"
    ]
}
`),_a=Os('[{"provider":"aliyun","spaceName":"warmly-article","spaceId":"mp-091c24c7-5e19-41de-be9a-d84895de4a2c","clientSecret":"X59wK9ZCQwRk+ud9nk6zMw==","endpoint":"https://api.next.bspapp.com"}]')||[];let qg="";try{qg="__UNI__A0E47FA"}catch{}let to={};function mt(e,t={}){var n,o;return n=to,o=e,Object.prototype.hasOwnProperty.call(n,o)||(to[e]=t),to[e]}const ya=["invoke","success","fail","complete"],be=mt("_globalUniCloudInterceptor");function ba(e,t){be[e]||(be[e]={}),ha(t)&&Object.keys(t).forEach(n=>{ya.indexOf(n)>-1&&function(o,s,r){let i=be[o][s];i||(i=be[o][s]=[]),i.indexOf(r)===-1&&ga(r)&&i.push(r)}(e,n,t[n])})}function Bg(e,t){be[e]||(be[e]={}),ha(t)?Object.keys(t).forEach(n=>{ya.indexOf(n)>-1&&function(o,s,r){const i=be[o][s];if(!i)return;const c=i.indexOf(r);c>-1&&i.splice(c,1)}(e,n,t[n])}):delete be[e]}function se(e,t){return e&&e.length!==0?e.reduce((n,o)=>n.then(()=>o(t)),Promise.resolve()):Promise.resolve()}function re(e,t){return be[e]&&be[e][t]||[]}function Kg(e){ba("callObject",e)}const no=mt("_globalUniCloudListener"),we="response",_t="needLogin",Cn="refreshToken",Rr="clientdb",sn="cloudfunction",Lr="cloudobject";function Wt(e){return no[e]||(no[e]=[]),no[e]}function oo(e,t){const n=Wt(e);n.includes(t)||n.push(t)}function so(e,t){const n=Wt(e),o=n.indexOf(t);o!==-1&&n.splice(o,1)}function fe(e,t){const n=Wt(e);for(let o=0;o<n.length;o++)(0,n[o])(t)}let ro,io=!1;function wa(){return ro||(ro=new Promise(e=>{io&&e(),function t(){if(typeof getCurrentPages=="function"){const n=getCurrentPages();n&&n[0]&&(io=!0,e())}io||setTimeout(()=>{t()},30)}()}),ro)}function va(e){const t={};for(const n in e){const o=e[n];ga(o)&&(t[n]=jg(o))}return t}class R extends Error{constructor(t){super(t.message),this.errMsg=t.message||t.errMsg||"unknown system error",this.code=this.errCode=t.code||t.errCode||"SYSTEM_ERROR",this.errSubject=this.subject=t.subject||t.errSubject,this.cause=t.cause,this.requestId=t.requestId}toJson(t=0){if(!(t>=10))return t++,{errCode:this.errCode,errMsg:this.errMsg,errSubject:this.errSubject,cause:this.cause&&this.cause.toJson?this.cause.toJson(t):this.cause}}}var oe={request:e=>U.request(e),uploadFile:e=>U.uploadFile(e),setStorageSync:(e,t)=>U.setStorageSync(e,t),getStorageSync:e=>U.getStorageSync(e),removeStorageSync:e=>U.removeStorageSync(e),clearStorageSync:()=>U.clearStorageSync()};function Sa(e){return e&&Sa(e.__v_raw)||e}function Vn(){return{token:oe.getStorageSync("uni_id_token")||oe.getStorageSync("uniIdToken"),tokenExpired:oe.getStorageSync("uni_id_token_expired")}}function Pa({token:e,tokenExpired:t}={}){e&&oe.setStorageSync("uni_id_token",e),t&&oe.setStorageSync("uni_id_token_expired",t)}let co,rn;function Ia(){return co||(co=U.getSystemInfoSync()),co}function Vg(){let e,t;try{if(U.getLaunchOptionsSync){if(U.getLaunchOptionsSync.toString().indexOf("not yet implemented")>-1)return;const{scene:n,channel:o}=U.getLaunchOptionsSync();e=o,t=n}}catch{}return{channel:e,scene:t}}function Aa(){const e=U.getLocale&&U.getLocale()||"en";if(rn)return{...rn,locale:e,LOCALE:e};const t=Ia(),{deviceId:n,osName:o,uniPlatform:s,appId:r}=t,i=["pixelRatio","brand","model","system","language","version","platform","host","SDKVersion","swanNativeVersion","app","AppPlatform","fontSizeSetting"];for(let c=0;c<i.length;c++)delete t[i[c]];return rn={PLATFORM:s,OS:o,APPID:r,DEVICEID:n,...Vg(),...t},{...rn,locale:e,LOCALE:e}}var Ot={sign:function(e,t){let n="";return Object.keys(e).sort().forEach(function(o){e[o]&&(n=n+"&"+o+"="+e[o])}),n=n.slice(1),kg(n,t).toString()},wrappedRequest:function(e,t){return new Promise((n,o)=>{t(Object.assign(e,{complete(s){s||(s={});const r=s.data&&s.data.header&&s.data.header["x-serverless-request-id"]||s.header&&s.header["request-id"];if(!s.statusCode||s.statusCode>=400)return o(new R({code:"SYS_ERR",message:s.errMsg||"request:fail",requestId:r}));const i=s.data;if(i.error)return o(new R({code:i.error.code,message:i.error.message,requestId:r}));i.result=i.data,i.requestId=r,delete i.data,n(i)}}))})},toBase64:function(e){return Rg.stringify($g.parse(e))}},Nr={"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"};const{t:Wg}=Nu({"zh-Hans":{"uniCloud.init.paramRequired":"缺少参数：{param}","uniCloud.uploadFile.fileError":"filePath应为File对象"},"zh-Hant":{"uniCloud.init.paramRequired":"缺少参数：{param}","uniCloud.uploadFile.fileError":"filePath应为File对象"},en:Nr,fr:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},es:{"uniCloud.init.paramRequired":"{param} required","uniCloud.uploadFile.fileError":"filePath should be instance of File"},ja:Nr},"zh-Hans");var xa=class{constructor(e){["spaceId","clientSecret"].forEach(t=>{if(!Object.prototype.hasOwnProperty.call(e,t))throw new Error(Wg("uniCloud.init.paramRequired",{param:t}))}),this.config=Object.assign({},{endpoint:e.spaceId.indexOf("mp-")===0?"https://api.next.bspapp.com":"https://api.bspapp.com"},e),this.config.provider="aliyun",this.config.requestUrl=this.config.endpoint+"/client",this.config.envType=this.config.envType||"public",this.config.accessTokenKey="access_token_"+this.config.spaceId,this.adapter=oe,this._getAccessTokenPromiseHub=new xs({createPromise:()=>this.requestAuth(this.setupRequest({method:"serverless.auth.user.anonymousAuthorize",params:"{}"},"auth")).then(t=>{if(!t.result||!t.result.accessToken)throw new R({code:"AUTH_FAILED",message:"获取accessToken失败"});this.setAccessToken(t.result.accessToken)}),retryRule:ma})}get hasAccessToken(){return!!this.accessToken}setAccessToken(e){this.accessToken=e}requestWrapped(e){return Ot.wrappedRequest(e,this.adapter.request)}requestAuth(e){return this.requestWrapped(e)}request(e,t){return Promise.resolve().then(()=>this.hasAccessToken?t?this.requestWrapped(e):this.requestWrapped(e).catch(n=>new Promise((o,s)=>{!n||n.code!=="GATEWAY_INVALID_TOKEN"&&n.code!=="InvalidParameter.InvalidToken"?s(n):o()}).then(()=>this.getAccessToken()).then(()=>{const o=this.rebuildRequest(e);return this.request(o,!0)})):this.getAccessToken().then(()=>{const n=this.rebuildRequest(e);return this.request(n,!0)}))}rebuildRequest(e){const t=Object.assign({},e);return t.data.token=this.accessToken,t.header["x-basement-token"]=this.accessToken,t.header["x-serverless-sign"]=Ot.sign(t.data,this.config.clientSecret),t}setupRequest(e,t){const n=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),o={"Content-Type":"application/json"};return t!=="auth"&&(n.token=this.accessToken,o["x-basement-token"]=this.accessToken),o["x-serverless-sign"]=Ot.sign(n,this.config.clientSecret),{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:o}}getAccessToken(){return this._getAccessTokenPromiseHub.exec()}async authorize(){await this.getAccessToken()}callFunction(e){const t={method:"serverless.function.runtime.invoke",params:JSON.stringify({functionTarget:e.name,functionArgs:e.data||{}})};return this.request(this.setupRequest(t))}getOSSUploadOptionsFromPath(e){const t={method:"serverless.file.resource.generateProximalSign",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}uploadFileToOSS({url:e,formData:t,name:n,filePath:o,fileType:s,onUploadProgress:r}){return new Promise((i,c)=>{const u=this.adapter.uploadFile({url:e,formData:t,name:n,filePath:o,fileType:s,header:{"X-OSS-server-side-encrpytion":"AES256"},success(a){a&&a.statusCode<400?i(a):c(new R({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(a){c(new R({code:a.code||"UPLOAD_FAILED",message:a.message||a.errMsg||"文件上传失败"}))}});typeof r=="function"&&u&&typeof u.onProgressUpdate=="function"&&u.onProgressUpdate(a=>{r({loaded:a.totalBytesSent,total:a.totalBytesExpectedToSend})})})}reportOSSUpload(e){const t={method:"serverless.file.resource.report",params:JSON.stringify(e)};return this.request(this.setupRequest(t))}async uploadFile({filePath:e,cloudPath:t,fileType:n="image",onUploadProgress:o,config:s}){if(As(t)!=="string")throw new R({code:"INVALID_PARAM",message:"cloudPath必须为字符串类型"});if(!(t=t.trim()))throw new R({code:"CLOUDPATH_REQUIRED",message:"cloudPath不可为空"});if(/:\/\//.test(t))throw new R({code:"INVALID_PARAM",message:"cloudPath不合法"});const r=s&&s.envType||this.config.envType,i=(await this.getOSSUploadOptionsFromPath({env:r,filename:t})).result,c="https://"+i.cdnDomain+"/"+i.ossPath,{securityToken:u,accessKeyId:a,signature:f,host:l,ossPath:p,id:g,policy:_,ossCallbackUrl:h}=i,d={"Cache-Control":"max-age=2592000","Content-Disposition":"attachment",OSSAccessKeyId:a,Signature:f,host:l,id:g,key:p,policy:_,success_action_status:200};if(u&&(d["x-oss-security-token"]=u),h){const b=JSON.stringify({callbackUrl:h,callbackBody:JSON.stringify({fileId:g,spaceId:this.config.spaceId}),callbackBodyType:"application/json"});d.callback=Ot.toBase64(b)}const m={url:"https://"+i.host,formData:d,fileName:"file",name:"file",filePath:e,fileType:n};if(await this.uploadFileToOSS(Object.assign({},m,{onUploadProgress:o})),h)return{success:!0,filePath:e,fileID:c};if((await this.reportOSSUpload({id:g})).success)return{success:!0,filePath:e,fileID:c};throw new R({code:"UPLOAD_FAILED",message:"文件上传失败"})}getTempFileURL({fileList:e}={}){return new Promise((t,n)=>{Array.isArray(e)&&e.length!==0||n(new R({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"})),t({fileList:e.map(o=>({fileID:o,tempFileURL:o}))})})}async getFileInfo({fileList:e}={}){if(!Array.isArray(e)||e.length===0)throw new R({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const t={method:"serverless.file.resource.info",params:JSON.stringify({id:e.map(n=>n.split("?")[0]).join(",")})};return{fileList:(await this.request(this.setupRequest(t))).result}}},zg={init(e){const t=new xa(e),n={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}};const Jg=typeof location<"u"&&location.protocol==="http:"?"http:":"https:";var Dr;(function(e){e.local="local",e.none="none",e.session="session"})(Dr||(Dr={}));var Gg=function(){};const zt=()=>{let e;if(!Promise){e=()=>{},e.promise={};const n=()=>{throw new R({message:'Your Node runtime does support ES6 Promises. Set "global.Promise" to your preferred implementation of promises.'})};return Object.defineProperty(e.promise,"then",{get:n}),Object.defineProperty(e.promise,"catch",{get:n}),e}const t=new Promise((n,o)=>{e=(s,r)=>s?o(s):n(r)});return e.promise=t,e};function Yg(e){return e===void 0}function Qg(e){return Object.prototype.toString.call(e)==="[object Null]"}var jr;function Xg(e){const t=(n=e,Object.prototype.toString.call(n)==="[object Array]"?e:[e]);var n;for(const o of t){const{isMatch:s,genAdapter:r,runtime:i}=o;if(s())return{adapter:r(),runtime:i}}}(function(e){e.WEB="web",e.WX_MP="wx_mp"})(jr||(jr={}));const ne={adapter:null,runtime:void 0},Zg=["anonymousUuidKey"];class ao extends Gg{constructor(){super(),ne.adapter.root.tcbObject||(ne.adapter.root.tcbObject={})}setItem(t,n){ne.adapter.root.tcbObject[t]=n}getItem(t){return ne.adapter.root.tcbObject[t]}removeItem(t){delete ne.adapter.root.tcbObject[t]}clear(){delete ne.adapter.root.tcbObject}}function Ur(e,t){switch(e){case"local":return t.localStorage||new ao;case"none":return new ao;default:return t.sessionStorage||new ao}}class Mr{constructor(t){if(!this._storage){this._persistence=ne.adapter.primaryStorage||t.persistence,this._storage=Ur(this._persistence,ne.adapter);const n=`access_token_${t.env}`,o=`access_token_expire_${t.env}`,s=`refresh_token_${t.env}`,r=`anonymous_uuid_${t.env}`,i=`login_type_${t.env}`,c=`user_info_${t.env}`;this.keys={accessTokenKey:n,accessTokenExpireKey:o,refreshTokenKey:s,anonymousUuidKey:r,loginTypeKey:i,userInfoKey:c}}}updatePersistence(t){if(t===this._persistence)return;const n=this._persistence==="local";this._persistence=t;const o=Ur(t,ne.adapter);for(const s in this.keys){const r=this.keys[s];if(n&&Zg.includes(s))continue;const i=this._storage.getItem(r);Yg(i)||Qg(i)||(o.setItem(r,i),this._storage.removeItem(r))}this._storage=o}setStore(t,n,o){if(!this._storage)return;const s={version:o||"localCachev1",content:n},r=JSON.stringify(s);try{this._storage.setItem(t,r)}catch(i){throw i}}getStore(t,n){try{if(!this._storage)return}catch{return""}n=n||"localCachev1";const o=this._storage.getItem(t);return o&&o.indexOf(n)>=0?JSON.parse(o).content:""}removeStore(t){this._storage.removeItem(t)}}const Oa={},Ta={};function Jt(e){return Oa[e]}class Ca{constructor(t,n){this.data=n||null,this.name=t}}class em extends Ca{constructor(t,n){super("error",{error:t,data:n}),this.error=t}}const Ts=new class{constructor(){this._listeners={}}on(e,t){return function(n,o,s){s[n]=s[n]||[],s[n].push(o)}(e,t,this._listeners),this}off(e,t){return function(n,o,s){if(s&&s[n]){const r=s[n].indexOf(o);r!==-1&&s[n].splice(r,1)}}(e,t,this._listeners),this}fire(e,t){if(e instanceof em)return console.error(e.error),this;const n=typeof e=="string"?new Ca(e,t||{}):e,o=n.name;if(this._listens(o)){n.target=this;const s=this._listeners[o]?[...this._listeners[o]]:[];for(const r of s)r.call(this,n)}return this}_listens(e){return this._listeners[e]&&this._listeners[e].length>0}};function Ce(e,t){Ts.on(e,t)}function ie(e,t={}){Ts.fire(e,t)}function tm(e,t){Ts.off(e,t)}const yt="loginStateChanged",Ea="loginStateExpire",Ne="loginTypeChanged",Bo="anonymousConverted",ka="refreshAccessToken";var Q;(function(e){e.ANONYMOUS="ANONYMOUS",e.WECHAT="WECHAT",e.WECHAT_PUBLIC="WECHAT-PUBLIC",e.WECHAT_OPEN="WECHAT-OPEN",e.CUSTOM="CUSTOM",e.EMAIL="EMAIL",e.USERNAME="USERNAME",e.NULL="NULL"})(Q||(Q={}));const Fr=["auth.getJwt","auth.logout","auth.signInWithTicket","auth.signInAnonymously","auth.signIn","auth.fetchAccessTokenWithRefreshToken","auth.signUpWithEmailAndPassword","auth.activateEndUserMail","auth.sendPasswordResetEmail","auth.resetPasswordWithToken","auth.isUsernameRegistered"],nm={"X-SDK-Version":"1.3.5"};function uo(e,t,n){const o=e[t];e[t]=function(s){const r={},i={};n.forEach(u=>{const{data:a,headers:f}=u.call(e,s);Object.assign(r,a),Object.assign(i,f)});const c=s.data;return c&&(()=>{var u;if(u=c,Object.prototype.toString.call(u)!=="[object FormData]")s.data={...c,...r};else for(const a in r)c.append(a,r[a])})(),s.headers={...s.headers||{},...i},o.call(e,s)}}function lo(){const e=Math.random().toString(16).slice(2);return{data:{seqId:e},headers:{...nm,"x-seqid":e}}}class om{constructor(t={}){var n;this.config=t,this._reqClass=new ne.adapter.reqClass({timeout:this.config.timeout,timeoutMsg:`请求在${this.config.timeout/1e3}s内未完成，已中断`,restrictedMethods:["post"]}),this._cache=Jt(this.config.env),this._localCache=(n=this.config.env,Ta[n]),uo(this._reqClass,"post",[lo]),uo(this._reqClass,"upload",[lo]),uo(this._reqClass,"download",[lo])}async post(t){return await this._reqClass.post(t)}async upload(t){return await this._reqClass.upload(t)}async download(t){return await this._reqClass.download(t)}async refreshAccessToken(){let t,n;this._refreshAccessTokenPromise||(this._refreshAccessTokenPromise=this._refreshAccessToken());try{t=await this._refreshAccessTokenPromise}catch(o){n=o}if(this._refreshAccessTokenPromise=null,this._shouldRefreshAccessTokenHook=null,n)throw n;return t}async _refreshAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:n,refreshTokenKey:o,loginTypeKey:s,anonymousUuidKey:r}=this._cache.keys;this._cache.removeStore(t),this._cache.removeStore(n);let i=this._cache.getStore(o);if(!i)throw new R({message:"未登录CloudBase"});const c={refresh_token:i},u=await this.request("auth.fetchAccessTokenWithRefreshToken",c);if(u.data.code){const{code:a}=u.data;if(a==="SIGN_PARAM_INVALID"||a==="REFRESH_TOKEN_EXPIRED"||a==="INVALID_REFRESH_TOKEN"){if(this._cache.getStore(s)===Q.ANONYMOUS&&a==="INVALID_REFRESH_TOKEN"){const f=this._cache.getStore(r),l=this._cache.getStore(o),p=await this.send("auth.signInAnonymously",{anonymous_uuid:f,refresh_token:l});return this.setRefreshToken(p.refresh_token),this._refreshAccessToken()}ie(Ea),this._cache.removeStore(o)}throw new R({code:u.data.code,message:`刷新access token失败：${u.data.code}`})}if(u.data.access_token)return ie(ka),this._cache.setStore(t,u.data.access_token),this._cache.setStore(n,u.data.access_token_expire+Date.now()),{accessToken:u.data.access_token,accessTokenExpire:u.data.access_token_expire};u.data.refresh_token&&(this._cache.removeStore(o),this._cache.setStore(o,u.data.refresh_token),this._refreshAccessToken())}async getAccessToken(){const{accessTokenKey:t,accessTokenExpireKey:n,refreshTokenKey:o}=this._cache.keys;if(!this._cache.getStore(o))throw new R({message:"refresh token不存在，登录状态异常"});let s=this._cache.getStore(t),r=this._cache.getStore(n),i=!0;return this._shouldRefreshAccessTokenHook&&!await this._shouldRefreshAccessTokenHook(s,r)&&(i=!1),(!s||!r||r<Date.now())&&i?this.refreshAccessToken():{accessToken:s,accessTokenExpire:r}}async request(t,n,o){const s=`x-tcb-trace_${this.config.env}`;let r="application/x-www-form-urlencoded";const i={action:t,env:this.config.env,dataVersion:"2019-08-16",...n};if(Fr.indexOf(t)===-1){const{refreshTokenKey:m}=this._cache.keys;this._cache.getStore(m)&&(i.access_token=(await this.getAccessToken()).accessToken)}let c;if(t==="storage.uploadFile"){c=new FormData;for(let m in c)c.hasOwnProperty(m)&&c[m]!==void 0&&c.append(m,i[m]);r="multipart/form-data"}else{r="application/json",c={};for(let m in i)i[m]!==void 0&&(c[m]=i[m])}let u={headers:{"content-type":r}};o&&o.onUploadProgress&&(u.onUploadProgress=o.onUploadProgress);const a=this._localCache.getStore(s);a&&(u.headers["X-TCB-Trace"]=a);const{parse:f,inQuery:l,search:p}=n;let g={env:this.config.env};f&&(g.parse=!0),l&&(g={...l,...g});let _=function(m,b,y={}){const w=/\?/.test(b);let A="";for(let E in y)A===""?!w&&(b+="?"):A+="&",A+=`${E}=${encodeURIComponent(y[E])}`;return/^http(s)?\:\/\//.test(b+=A)?b:`${m}${b}`}(Jg,"//tcb-api.tencentcloudapi.com/web",g);p&&(_+=p);const h=await this.post({url:_,data:c,...u}),d=h.header&&h.header["x-tcb-trace"];if(d&&this._localCache.setStore(s,d),Number(h.status)!==200&&Number(h.statusCode)!==200||!h.data)throw new R({code:"NETWORK_ERROR",message:"network request error"});return h}async send(t,n={}){const o=await this.request(t,n,{onUploadProgress:n.onUploadProgress});if(o.data.code==="ACCESS_TOKEN_EXPIRED"&&Fr.indexOf(t)===-1){await this.refreshAccessToken();const s=await this.request(t,n,{onUploadProgress:n.onUploadProgress});if(s.data.code)throw new R({code:s.data.code,message:s.data.message});return s.data}if(o.data.code)throw new R({code:o.data.code,message:o.data.message});return o.data}setRefreshToken(t){const{accessTokenKey:n,accessTokenExpireKey:o,refreshTokenKey:s}=this._cache.keys;this._cache.removeStore(n),this._cache.removeStore(o),this._cache.setStore(s,t)}}const $a={};function xe(e){return $a[e]}class Wn{constructor(t){this.config=t,this._cache=Jt(t.env),this._request=xe(t.env)}setRefreshToken(t){const{accessTokenKey:n,accessTokenExpireKey:o,refreshTokenKey:s}=this._cache.keys;this._cache.removeStore(n),this._cache.removeStore(o),this._cache.setStore(s,t)}setAccessToken(t,n){const{accessTokenKey:o,accessTokenExpireKey:s}=this._cache.keys;this._cache.setStore(o,t),this._cache.setStore(s,n)}async refreshUserInfo(){const{data:t}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(t),t}setLocalUserInfo(t){const{userInfoKey:n}=this._cache.keys;this._cache.setStore(n,t)}}class sm{constructor(t){if(!t)throw new R({code:"PARAM_ERROR",message:"envId is not defined"});this._envId=t,this._cache=Jt(this._envId),this._request=xe(this._envId),this.setUserInfo()}linkWithTicket(t){if(typeof t!="string")throw new R({code:"PARAM_ERROR",message:"ticket must be string"});return this._request.send("auth.linkWithTicket",{ticket:t})}linkWithRedirect(t){t.signInWithRedirect()}updatePassword(t,n){return this._request.send("auth.updatePassword",{oldPassword:n,newPassword:t})}updateEmail(t){return this._request.send("auth.updateEmail",{newEmail:t})}updateUsername(t){if(typeof t!="string")throw new R({code:"PARAM_ERROR",message:"username must be a string"});return this._request.send("auth.updateUsername",{username:t})}async getLinkedUidList(){const{data:t}=await this._request.send("auth.getLinkedUidList",{});let n=!1;const{users:o}=t;return o.forEach(s=>{s.wxOpenId&&s.wxPublicId&&(n=!0)}),{users:o,hasPrimaryUid:n}}setPrimaryUid(t){return this._request.send("auth.setPrimaryUid",{uid:t})}unlink(t){return this._request.send("auth.unlink",{platform:t})}async update(t){const{nickName:n,gender:o,avatarUrl:s,province:r,country:i,city:c}=t,{data:u}=await this._request.send("auth.updateUserInfo",{nickName:n,gender:o,avatarUrl:s,province:r,country:i,city:c});this.setLocalUserInfo(u)}async refresh(){const{data:t}=await this._request.send("auth.getUserInfo",{});return this.setLocalUserInfo(t),t}setUserInfo(){const{userInfoKey:t}=this._cache.keys,n=this._cache.getStore(t);["uid","loginType","openid","wxOpenId","wxPublicId","unionId","qqMiniOpenId","email","hasPassword","customUserId","nickName","gender","avatarUrl"].forEach(o=>{this[o]=n[o]}),this.location={country:n.country,province:n.province,city:n.city}}setLocalUserInfo(t){const{userInfoKey:n}=this._cache.keys;this._cache.setStore(n,t),this.setUserInfo()}}class Gt{constructor(t){if(!t)throw new R({code:"PARAM_ERROR",message:"envId is not defined"});this._cache=Jt(t);const{refreshTokenKey:n,accessTokenKey:o,accessTokenExpireKey:s}=this._cache.keys,r=this._cache.getStore(n),i=this._cache.getStore(o),c=this._cache.getStore(s);this.credential={refreshToken:r,accessToken:i,accessTokenExpire:c},this.user=new sm(t)}get isAnonymousAuth(){return this.loginType===Q.ANONYMOUS}get isCustomAuth(){return this.loginType===Q.CUSTOM}get isWeixinAuth(){return this.loginType===Q.WECHAT||this.loginType===Q.WECHAT_OPEN||this.loginType===Q.WECHAT_PUBLIC}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}}class fo extends Wn{async signIn(){this._cache.updatePersistence("local");const{anonymousUuidKey:t,refreshTokenKey:n}=this._cache.keys,o=this._cache.getStore(t)||void 0,s=this._cache.getStore(n)||void 0,r=await this._request.send("auth.signInAnonymously",{anonymous_uuid:o,refresh_token:s});if(r.uuid&&r.refresh_token){this._setAnonymousUUID(r.uuid),this.setRefreshToken(r.refresh_token),await this._request.refreshAccessToken(),ie(yt),ie(Ne,{env:this.config.env,loginType:Q.ANONYMOUS,persistence:"local"});const i=new Gt(this.config.env);return await i.user.refresh(),i}throw new R({message:"匿名登录失败"})}async linkAndRetrieveDataWithTicket(t){const{anonymousUuidKey:n,refreshTokenKey:o}=this._cache.keys,s=this._cache.getStore(n),r=this._cache.getStore(o),i=await this._request.send("auth.linkAndRetrieveDataWithTicket",{anonymous_uuid:s,refresh_token:r,ticket:t});if(i.refresh_token)return this._clearAnonymousUUID(),this.setRefreshToken(i.refresh_token),await this._request.refreshAccessToken(),ie(Bo,{env:this.config.env}),ie(Ne,{loginType:Q.CUSTOM,persistence:"local"}),{credential:{refreshToken:i.refresh_token}};throw new R({message:"匿名转化失败"})}_setAnonymousUUID(t){const{anonymousUuidKey:n,loginTypeKey:o}=this._cache.keys;this._cache.removeStore(n),this._cache.setStore(n,t),this._cache.setStore(o,Q.ANONYMOUS)}_clearAnonymousUUID(){this._cache.removeStore(this._cache.keys.anonymousUuidKey)}}class Hr extends Wn{async signIn(t){if(typeof t!="string")throw new R({code:"PARAM_ERROR",message:"ticket must be a string"});const{refreshTokenKey:n}=this._cache.keys,o=await this._request.send("auth.signInWithTicket",{ticket:t,refresh_token:this._cache.getStore(n)||""});if(o.refresh_token)return this.setRefreshToken(o.refresh_token),await this._request.refreshAccessToken(),ie(yt),ie(Ne,{env:this.config.env,loginType:Q.CUSTOM,persistence:this.config.persistence}),await this.refreshUserInfo(),new Gt(this.config.env);throw new R({message:"自定义登录失败"})}}class qr extends Wn{async signIn(t,n){if(typeof t!="string")throw new R({code:"PARAM_ERROR",message:"email must be a string"});const{refreshTokenKey:o}=this._cache.keys,s=await this._request.send("auth.signIn",{loginType:"EMAIL",email:t,password:n,refresh_token:this._cache.getStore(o)||""}),{refresh_token:r,access_token:i,access_token_expire:c}=s;if(r)return this.setRefreshToken(r),i&&c?this.setAccessToken(i,c):await this._request.refreshAccessToken(),await this.refreshUserInfo(),ie(yt),ie(Ne,{env:this.config.env,loginType:Q.EMAIL,persistence:this.config.persistence}),new Gt(this.config.env);throw s.code?new R({code:s.code,message:`邮箱登录失败: ${s.message}`}):new R({message:"邮箱登录失败"})}async activate(t){return this._request.send("auth.activateEndUserMail",{token:t})}async resetPasswordWithToken(t,n){return this._request.send("auth.resetPasswordWithToken",{token:t,newPassword:n})}}class Br extends Wn{async signIn(t,n){if(typeof t!="string")throw new R({code:"PARAM_ERROR",message:"username must be a string"});typeof n!="string"&&(n="",console.warn("password is empty"));const{refreshTokenKey:o}=this._cache.keys,s=await this._request.send("auth.signIn",{loginType:Q.USERNAME,username:t,password:n,refresh_token:this._cache.getStore(o)||""}),{refresh_token:r,access_token_expire:i,access_token:c}=s;if(r)return this.setRefreshToken(r),c&&i?this.setAccessToken(c,i):await this._request.refreshAccessToken(),await this.refreshUserInfo(),ie(yt),ie(Ne,{env:this.config.env,loginType:Q.USERNAME,persistence:this.config.persistence}),new Gt(this.config.env);throw s.code?new R({code:s.code,message:`用户名密码登录失败: ${s.message}`}):new R({message:"用户名密码登录失败"})}}class rm{constructor(t){this.config=t,this._cache=Jt(t.env),this._request=xe(t.env),this._onAnonymousConverted=this._onAnonymousConverted.bind(this),this._onLoginTypeChanged=this._onLoginTypeChanged.bind(this),Ce(Ne,this._onLoginTypeChanged)}get currentUser(){const t=this.hasLoginState();return t&&t.user||null}get loginType(){return this._cache.getStore(this._cache.keys.loginTypeKey)}anonymousAuthProvider(){return new fo(this.config)}customAuthProvider(){return new Hr(this.config)}emailAuthProvider(){return new qr(this.config)}usernameAuthProvider(){return new Br(this.config)}async signInAnonymously(){return new fo(this.config).signIn()}async signInWithEmailAndPassword(t,n){return new qr(this.config).signIn(t,n)}signInWithUsernameAndPassword(t,n){return new Br(this.config).signIn(t,n)}async linkAndRetrieveDataWithTicket(t){return this._anonymousAuthProvider||(this._anonymousAuthProvider=new fo(this.config)),Ce(Bo,this._onAnonymousConverted),await this._anonymousAuthProvider.linkAndRetrieveDataWithTicket(t)}async signOut(){if(this.loginType===Q.ANONYMOUS)throw new R({message:"匿名用户不支持登出操作"});const{refreshTokenKey:t,accessTokenKey:n,accessTokenExpireKey:o}=this._cache.keys,s=this._cache.getStore(t);if(!s)return;const r=await this._request.send("auth.logout",{refresh_token:s});return this._cache.removeStore(t),this._cache.removeStore(n),this._cache.removeStore(o),ie(yt),ie(Ne,{env:this.config.env,loginType:Q.NULL,persistence:this.config.persistence}),r}async signUpWithEmailAndPassword(t,n){return this._request.send("auth.signUpWithEmailAndPassword",{email:t,password:n})}async sendPasswordResetEmail(t){return this._request.send("auth.sendPasswordResetEmail",{email:t})}onLoginStateChanged(t){Ce(yt,()=>{const o=this.hasLoginState();t.call(this,o)});const n=this.hasLoginState();t.call(this,n)}onLoginStateExpired(t){Ce(Ea,t.bind(this))}onAccessTokenRefreshed(t){Ce(ka,t.bind(this))}onAnonymousConverted(t){Ce(Bo,t.bind(this))}onLoginTypeChanged(t){Ce(Ne,()=>{const n=this.hasLoginState();t.call(this,n)})}async getAccessToken(){return{accessToken:(await this._request.getAccessToken()).accessToken,env:this.config.env}}hasLoginState(){const{refreshTokenKey:t}=this._cache.keys;return this._cache.getStore(t)?new Gt(this.config.env):null}async isUsernameRegistered(t){if(typeof t!="string")throw new R({code:"PARAM_ERROR",message:"username must be a string"});const{data:n}=await this._request.send("auth.isUsernameRegistered",{username:t});return n&&n.isRegistered}getLoginState(){return Promise.resolve(this.hasLoginState())}async signInWithTicket(t){return new Hr(this.config).signIn(t)}shouldRefreshAccessToken(t){this._request._shouldRefreshAccessTokenHook=t.bind(this)}getUserInfo(){return this._request.send("auth.getUserInfo",{}).then(t=>t.code?t:{...t.data,requestId:t.seqId})}getAuthHeader(){const{refreshTokenKey:t,accessTokenKey:n}=this._cache.keys,o=this._cache.getStore(t);return{"x-cloudbase-credentials":this._cache.getStore(n)+"/@@/"+o}}_onAnonymousConverted(t){const{env:n}=t.data;n===this.config.env&&this._cache.updatePersistence(this.config.persistence)}_onLoginTypeChanged(t){const{loginType:n,persistence:o,env:s}=t.data;s===this.config.env&&(this._cache.updatePersistence(o),this._cache.setStore(this._cache.keys.loginTypeKey,n))}}const im=function(e,t){t=t||zt();const n=xe(this.config.env),{cloudPath:o,filePath:s,onUploadProgress:r,fileType:i="image"}=e;return n.send("storage.getUploadMetadata",{path:o}).then(c=>{const{data:{url:u,authorization:a,token:f,fileId:l,cosFileId:p},requestId:g}=c,_={key:o,signature:a,"x-cos-meta-fileid":p,success_action_status:"201","x-cos-security-token":f};n.upload({url:u,data:_,file:s,name:o,fileType:i,onUploadProgress:r}).then(h=>{h.statusCode===201?t(null,{fileID:l,requestId:g}):t(new R({code:"STORAGE_REQUEST_FAIL",message:`STORAGE_REQUEST_FAIL: ${h.data}`}))}).catch(h=>{t(h)})}).catch(c=>{t(c)}),t.promise},cm=function(e,t){t=t||zt();const n=xe(this.config.env),{cloudPath:o}=e;return n.send("storage.getUploadMetadata",{path:o}).then(s=>{t(null,s)}).catch(s=>{t(s)}),t.promise},am=function({fileList:e},t){if(t=t||zt(),!e||!Array.isArray(e))return{code:"INVALID_PARAM",message:"fileList必须是非空的数组"};for(let o of e)if(!o||typeof o!="string")return{code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"};const n={fileid_list:e};return xe(this.config.env).send("storage.batchDeleteFile",n).then(o=>{o.code?t(null,o):t(null,{fileList:o.data.delete_list,requestId:o.requestId})}).catch(o=>{t(o)}),t.promise},Ra=function({fileList:e},t){t=t||zt(),e&&Array.isArray(e)||t(null,{code:"INVALID_PARAM",message:"fileList必须是非空的数组"});let n=[];for(let s of e)typeof s=="object"?(s.hasOwnProperty("fileID")&&s.hasOwnProperty("maxAge")||t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是包含fileID和maxAge的对象"}),n.push({fileid:s.fileID,max_age:s.maxAge})):typeof s=="string"?n.push({fileid:s}):t(null,{code:"INVALID_PARAM",message:"fileList的元素必须是字符串"});const o={file_list:n};return xe(this.config.env).send("storage.batchGetDownloadUrl",o).then(s=>{s.code?t(null,s):t(null,{fileList:s.data.download_list,requestId:s.requestId})}).catch(s=>{t(s)}),t.promise},um=async function({fileID:e},t){const n=(await Ra.call(this,{fileList:[{fileID:e,maxAge:600}]})).fileList[0];if(n.code!=="SUCCESS")return t?t(n):new Promise(r=>{r(n)});const o=xe(this.config.env);let s=n.download_url;if(s=encodeURI(s),!t)return o.download({url:s});t(await o.download({url:s}))},lm=function({name:e,data:t,query:n,parse:o,search:s},r){const i=r||zt();let c;try{c=t?JSON.stringify(t):""}catch(a){return Promise.reject(a)}if(!e)return Promise.reject(new R({code:"PARAM_ERROR",message:"函数名不能为空"}));const u={inQuery:n,parse:o,search:s,function_name:e,request_data:c};return xe(this.config.env).send("functions.invokeFunction",u).then(a=>{if(a.code)i(null,a);else{let f=a.data.response_data;if(o)i(null,{result:f,requestId:a.requestId});else try{f=JSON.parse(a.data.response_data),i(null,{result:f,requestId:a.requestId})}catch{i(new R({message:"response data must be json"}))}}return i.promise}).catch(a=>{i(a)}),i.promise},Kr={timeout:15e3,persistence:"session"},Vr={};class Cs{constructor(t){this.config=t||this.config,this.authObj=void 0}init(t){switch(ne.adapter||(this.requestClient=new ne.adapter.reqClass({timeout:t.timeout||5e3,timeoutMsg:`请求在${(t.timeout||5e3)/1e3}s内未完成，已中断`})),this.config={...Kr,...t},!0){case this.config.timeout>6e5:console.warn("timeout大于可配置上限[10分钟]，已重置为上限数值"),this.config.timeout=6e5;break;case this.config.timeout<100:console.warn("timeout小于可配置下限[100ms]，已重置为下限数值"),this.config.timeout=100}return new Cs(this.config)}auth({persistence:t}={}){if(this.authObj)return this.authObj;const n=t||ne.adapter.primaryStorage||Kr.persistence;var o;return n!==this.config.persistence&&(this.config.persistence=n),function(s){const{env:r}=s;Oa[r]=new Mr(s),Ta[r]=new Mr({...s,persistence:"local"})}(this.config),o=this.config,$a[o.env]=new om(o),this.authObj=new rm(this.config),this.authObj}on(t,n){return Ce.apply(this,[t,n])}off(t,n){return tm.apply(this,[t,n])}callFunction(t,n){return lm.apply(this,[t,n])}deleteFile(t,n){return am.apply(this,[t,n])}getTempFileURL(t,n){return Ra.apply(this,[t,n])}downloadFile(t,n){return um.apply(this,[t,n])}uploadFile(t,n){return im.apply(this,[t,n])}getUploadMetadata(t,n){return cm.apply(this,[t,n])}registerExtension(t){Vr[t.name]=t}async invokeExtension(t,n){const o=Vr[t];if(!o)throw new R({message:`扩展${t} 必须先注册`});return await o.invoke(n,this)}useAdapters(t){const{adapter:n,runtime:o}=Xg(t)||{};n&&(ne.adapter=n),o&&(ne.runtime=o)}}var La=new Cs;function Wr(e,t,n){n===void 0&&(n={});var o=/\?/.test(t),s="";for(var r in n)s===""?!o&&(t+="?"):s+="&",s+=r+"="+encodeURIComponent(n[r]);return/^http(s)?:\/\//.test(t+=s)?t:""+e+t}class fm{post(t){const{url:n,data:o,headers:s}=t;return new Promise((r,i)=>{oe.request({url:Wr("https:",n),data:o,method:"POST",header:s,success(c){r(c)},fail(c){i(c)}})})}upload(t){return new Promise((n,o)=>{const{url:s,file:r,data:i,headers:c,fileType:u}=t,a=oe.uploadFile({url:Wr("https:",s),name:"file",formData:Object.assign({},i),filePath:r,fileType:u,header:c,success(f){const l={statusCode:f.statusCode,data:f.data||{}};f.statusCode===200&&i.success_action_status&&(l.statusCode=parseInt(i.success_action_status,10)),n(l)},fail(f){o(new Error(f.errMsg||"uploadFile:fail"))}});typeof t.onUploadProgress=="function"&&a&&typeof a.onProgressUpdate=="function"&&a.onProgressUpdate(f=>{t.onUploadProgress({loaded:f.totalBytesSent,total:f.totalBytesExpectedToSend})})})}}const dm={setItem(e,t){oe.setStorageSync(e,t)},getItem:e=>oe.getStorageSync(e),removeItem(e){oe.removeStorageSync(e)},clear(){oe.clearStorageSync()}};var pm={genAdapter:function(){return{root:{},reqClass:fm,localStorage:dm,primaryStorage:"local"}},isMatch:function(){return!0},runtime:"uni_app"};La.useAdapters(pm);const Es=La,hm=Es.init;Es.init=function(e){e.env=e.spaceId;const t=hm.call(this,e);t.config.provider="tencent",t.config.spaceId=e.spaceId;const n=t.auth;return t.auth=function(o){const s=n.call(this,o);return["linkAndRetrieveDataWithTicket","signInAnonymously","signOut","getAccessToken","getLoginState","signInWithTicket","getUserInfo"].forEach(r=>{var i;s[r]=(i=s[r],function(c){c=c||{};const{success:u,fail:a,complete:f}=va(c);if(!(u||a||f))return i.call(this,c);i.call(this,c).then(l=>{u&&u(l),f&&f(l)},l=>{a&&a(l),f&&f(l)})}).bind(s)}),s},t.customAuth=t.auth,t};var zr=Es,gm=class extends xa{getAccessToken(){return new Promise((e,t)=>{const n="Anonymous_Access_token";this.setAccessToken(n),e(n)})}setupRequest(e,t){const n=Object.assign({},e,{spaceId:this.config.spaceId,timestamp:Date.now()}),o={"Content-Type":"application/json"};t!=="auth"&&(n.token=this.accessToken,o["x-basement-token"]=this.accessToken),o["x-serverless-sign"]=Ot.sign(n,this.config.clientSecret);const s=Aa();o["x-client-info"]=encodeURIComponent(JSON.stringify(s));const{token:r}=Vn();return o["x-client-token"]=r,{url:this.config.requestUrl,method:"POST",data:n,dataType:"json",header:JSON.parse(JSON.stringify(o))}}uploadFileToOSS({url:e,formData:t,name:n,filePath:o,fileType:s,onUploadProgress:r}){return new Promise((i,c)=>{const u=this.adapter.uploadFile({url:e,formData:t,name:n,filePath:o,fileType:s,success(a){a&&a.statusCode<400?i(a):c(new R({code:"UPLOAD_FAILED",message:"文件上传失败"}))},fail(a){c(new R({code:a.code||"UPLOAD_FAILED",message:a.message||a.errMsg||"文件上传失败"}))}});typeof r=="function"&&u&&typeof u.onProgressUpdate=="function"&&u.onProgressUpdate(a=>{r({loaded:a.totalBytesSent,total:a.totalBytesExpectedToSend})})})}uploadFile({filePath:e,cloudPath:t,fileType:n="image",onUploadProgress:o}){if(!t)throw new R({code:"CLOUDPATH_REQUIRED",message:"cloudPath不可为空"});let s;return this.getOSSUploadOptionsFromPath({cloudPath:t}).then(r=>{const{url:i,formData:c,name:u}=r.result;s=r.result.fileUrl;const a={url:i,formData:c,name:u,filePath:e,fileType:n};return this.uploadFileToOSS(Object.assign({},a,{onUploadProgress:o}))}).then(()=>this.reportOSSUpload({cloudPath:t})).then(r=>new Promise((i,c)=>{r.success?i({success:!0,filePath:e,fileID:s}):c(new R({code:"UPLOAD_FAILED",message:"文件上传失败"}))}))}deleteFile({fileList:e}){const t={method:"serverless.file.resource.delete",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(t)).then(n=>{if(n.success)return n.result;throw new R({code:"DELETE_FILE_FAILED",message:"删除文件失败"})})}getTempFileURL({fileList:e}={}){if(!Array.isArray(e)||e.length===0)throw new R({code:"INVALID_PARAM",message:"fileList的元素必须是非空的字符串"});const t={method:"serverless.file.resource.getTempFileURL",params:JSON.stringify({fileList:e})};return this.request(this.setupRequest(t)).then(n=>{if(n.success)return{fileList:n.result.fileList.map(o=>({fileID:o.fileID,tempFileURL:o.tempFileURL}))};throw new R({code:"GET_TEMP_FILE_URL_FAILED",message:"获取临时文件链接失败"})})}},mm={init(e){const t=new gm(e),n={signInAnonymously:function(){return t.authorize()},getLoginState:function(){return Promise.resolve(!1)}};return t.auth=function(){return n},t.customAuth=t.auth,t}};function Na({data:e}){let t;t=Aa();const n=JSON.parse(JSON.stringify(e||{}));if(Object.assign(n,{clientInfo:t}),!n.uniIdToken){const{token:o}=Vn();o&&(n.uniIdToken=o)}return n}async function Jr({name:e,data:t}={}){await this.__dev__.initLocalNetwork();const{localAddress:n,localPort:o}=this.__dev__,s={aliyun:"aliyun",tencent:"tcb"}[this.config.provider],r=this.config.spaceId,i=`http://${n}:${o}/system/check-function`,c=`http://${n}:${o}/cloudfunctions/${e}`;return new Promise((u,a)=>{oe.request({method:"POST",url:i,data:{name:e,platform:gt,provider:s,spaceId:r},timeout:3e3,success(f){u(f)},fail(){u({data:{code:"NETWORK_ERROR",message:"连接本地调试服务失败，请检查客户端是否和主机在同一局域网下，自动切换为已部署的云函数。"}})}})}).then(({data:u}={})=>{const{code:a,message:f}=u||{};return{code:a===0?0:a||"SYS_ERR",message:f||"SYS_ERR"}}).then(({code:u,message:a})=>{if(u!==0){switch(u){case"MODULE_ENCRYPTED":console.error(`此云函数（${e}）依赖加密公共模块不可本地调试，自动切换为云端已部署的云函数`);break;case"FUNCTION_ENCRYPTED":console.error(`此云函数（${e}）已加密不可本地调试，自动切换为云端已部署的云函数`);break;case"ACTION_ENCRYPTED":console.error(a||"需要访问加密的uni-clientDB-action，自动切换为云端环境");break;case"NETWORK_ERROR":{const f="连接本地调试服务失败，请检查客户端是否和主机在同一局域网下";throw console.error(f),new Error(f)}case"SWITCH_TO_CLOUD":break;default:{const f=`检测本地调试服务出现错误：${a}，请检查网络环境或重启客户端再试`;throw console.error(f),new Error(f)}}return this._callCloudFunction({name:e,data:t})}return new Promise((f,l)=>{const p=Na.call(this,{data:t});oe.request({method:"POST",url:c,data:{provider:s,platform:gt,param:p},success:({statusCode:g,data:_}={})=>!g||g>=400?l(new R({code:_.code||"SYS_ERR",message:_.message||"request:fail"})):f({result:_}),fail(g){l(new R({code:g.code||g.errCode||"SYS_ERR",message:g.message||g.errMsg||"request:fail"}))}})})})}const _m=[{rule:/fc_function_not_found|FUNCTION_NOT_FOUND/,content:"，云函数[{functionName}]在云端不存在，请检查此云函数名称是否正确以及该云函数是否已上传到服务空间",mode:"append"}];var Da=/[\\^$.*+?()[\]{}|]/g,ym=RegExp(Da.source);function Gr(e,t,n){return e.replace(new RegExp((o=t)&&ym.test(o)?o.replace(Da,"\\$&"):o,"g"),n);var o}const bm="request",wm="response",vm="both",Sm={code:2e4,message:"System error"},Pm={code:20101,message:"Invalid client"};function ja(e){const{errSubject:t,subject:n,errCode:o,errMsg:s,code:r,message:i,cause:c}=e||{};return new R({subject:t||n||"uni-secure-network",code:o||r||Sm.code,message:s||i,cause:c})}let Ko;function Yr({secretType:e}={}){return e===bm||e===wm||e===vm}function Qr({name:e,data:t={}}={}){return gt==="app"}function Im({provider:e,spaceId:t,functionName:n}={}){const{appId:o,uniPlatform:s,osName:r}=Ia();let i=s;s==="app"&&(i=r);const c=function({provider:l,spaceId:p}={}){const g=Fg;if(!g)return{};l=function(h){return h==="tencent"?"tcb":h}(l);const _=g.find(h=>h.provider===l&&h.spaceId===p);return _&&_.config}({provider:e,spaceId:t});if(!c||!c.accessControl||!c.accessControl.enable)return!1;const u=c.accessControl.function||{},a=Object.keys(u);if(a.length===0)return!0;const f=function(l,p){let g,_,h;for(let d=0;d<l.length;d++){const m=l[d];m!==p?m!=="*"?m.split(",").map(b=>b.trim()).indexOf(p)>-1&&(_=m):h=m:g=m}return g||_||h}(a,n);if(!f)return!1;if((u[f]||[]).find((l={})=>l.appId===o&&(l.platform||"").toLowerCase()===i.toLowerCase()))return!0;throw console.error(`此应用[appId: ${o}, platform: ${i}]不在云端配置的允许访问的应用列表内，参考：https://uniapp.dcloud.net.cn/uniCloud/secure-network.html#verify-client`),ja(Pm)}function Xr({functionName:e,result:t,logPvd:n}){if(this.__dev__.debugLog&&t&&t.requestId){const o=JSON.stringify({spaceId:this.config.spaceId,functionName:e,requestId:t.requestId});console.log(`[${n}-request]${o}[/${n}-request]`)}}function Am(e){const t=e.callFunction,n=function(o){const s=o.name;o.data=Na.call(e,{data:o.data});const r={aliyun:"aliyun",tencent:"tcb",tcb:"tcb"}[this.config.provider],i=Yr(o),c=Qr(o),u=i||c;return t.call(this,o).then(a=>(a.errCode=0,!u&&Xr.call(this,{functionName:s,result:a,logPvd:r}),Promise.resolve(a)),a=>(!u&&Xr.call(this,{functionName:s,result:a,logPvd:r}),a&&a.message&&(a.message=function({message:f="",extraInfo:l={},formatter:p=[]}={}){for(let g=0;g<p.length;g++){const{rule:_,content:h,mode:d}=p[g],m=f.match(_);if(!m)continue;let b=h;for(let y=1;y<m.length;y++)b=Gr(b,`{$${y}}`,m[y]);for(const y in l)b=Gr(b,`{${y}}`,l[y]);return d==="replace"?b:f+b}return f}({message:`[${o.name}]: ${a.message}`,formatter:_m,extraInfo:{functionName:s}})),Promise.reject(a)))};e.callFunction=function(o){const{provider:s,spaceId:r}=e.config,i=o.name;let c,u;return o.data=o.data||{},e.__dev__.debugInfo&&!e.__dev__.debugInfo.forceRemote&&_a?(e._callCloudFunction||(e._callCloudFunction=n,e._callLocalFunction=Jr),c=Jr):c=n,c=c.bind(e),Qr(o)||(function({name:a,data:f={}}){return a==="uni-id-co"&&f.method==="secureNetworkHandshakeByWeixin"}(o)?u=c.call(e,o):Yr(o)?u=new Ko({secretType:o.secretType,uniCloudIns:e}).wrapEncryptDataCallFunction(n.bind(e))(o):Im({provider:s,spaceId:r,functionName:i})?u=new Ko({secretType:o.secretType,uniCloudIns:e}).wrapVerifyClientCallFunction(n.bind(e))(o):u=c(o)),Object.defineProperty(u,"result",{get:()=>(console.warn("当前返回结果为Promise类型，不可直接访问其result属性，详情请参考：https://uniapp.dcloud.net.cn/uniCloud/faq?id=promise"),{})}),u}}Ko=class{constructor(){throw ja({message:`Platform ${gt} is not enabled, please check whether secure network module is enabled in your manifest.json`})}};const Ua=Symbol("CLIENT_DB_INTERNAL");function En(e,t){return e.then="DoNotReturnProxyWithAFunctionNamedThen",e._internalType=Ua,e.inspect=null,e.__v_raw=void 0,new Proxy(e,{get(n,o,s){if(o==="_uniClient")return null;if(typeof o=="symbol")return n[o];if(o in n||typeof o!="string"){const r=n[o];return typeof r=="function"?r.bind(n):r}return t.get(n,o,s)}})}function Zr(e){return{on:(t,n)=>{e[t]=e[t]||[],e[t].indexOf(n)>-1||e[t].push(n)},off:(t,n)=>{e[t]=e[t]||[];const o=e[t].indexOf(n);o!==-1&&e[t].splice(o,1)}}}const xm=["db.Geo","db.command","command.aggregate"];function Ma(e,t){return xm.indexOf(`${e}.${t}`)>-1}function Ge(e){switch(As(e=Sa(e))){case"array":return e.map(t=>Ge(t));case"object":return e._internalType===Ua||Object.keys(e).forEach(t=>{e[t]=Ge(e[t])}),e;case"regexp":return{$regexp:{source:e.source,flags:e.flags}};case"date":return{$date:e.toISOString()};default:return e}}function It(e){return e&&e.content&&e.content.$method}class Om{constructor(t,n,o){this.content=t,this.prevStage=n||null,this.udb=null,this._database=o}toJSON(){let t=this;const n=[t.content];for(;t.prevStage;)t=t.prevStage,n.push(t.content);return{$db:n.reverse().map(o=>({$method:o.$method,$param:Ge(o.$param)}))}}toString(){return JSON.stringify(this.toJSON())}getAction(){const t=this.toJSON().$db.find(n=>n.$method==="action");return t&&t.$param&&t.$param[0]}getCommand(){return{$db:this.toJSON().$db.filter(t=>t.$method!=="action")}}get isAggregate(){let t=this;for(;t;){const n=It(t),o=It(t.prevStage);if(n==="aggregate"&&o==="collection"||n==="pipeline")return!0;t=t.prevStage}return!1}get isCommand(){let t=this;for(;t;){if(It(t)==="command")return!0;t=t.prevStage}return!1}get isAggregateCommand(){let t=this;for(;t;){const n=It(t),o=It(t.prevStage);if(n==="aggregate"&&o==="command")return!0;t=t.prevStage}return!1}getNextStageFn(t){const n=this;return function(){return Ut({$method:t,$param:Ge(Array.from(arguments))},n,n._database)}}get count(){return this.isAggregate?this.getNextStageFn("count"):function(){return this._send("count",Array.from(arguments))}}get remove(){return this.isCommand?this.getNextStageFn("remove"):function(){return this._send("remove",Array.from(arguments))}}get(){return this._send("get",Array.from(arguments))}get add(){return this.isCommand?this.getNextStageFn("add"):function(){return this._send("add",Array.from(arguments))}}update(){return this._send("update",Array.from(arguments))}end(){return this._send("end",Array.from(arguments))}get set(){return this.isCommand?this.getNextStageFn("set"):function(){throw new Error("JQL禁止使用set方法")}}_send(t,n){const o=this.getAction(),s=this.getCommand();if(s.$db.push({$method:t,$param:Ge(n)}),Ug){const r=s.$db.find(c=>c.$method==="collection"),i=r&&r.$param;i&&i.length===1&&typeof r.$param[0]=="string"&&r.$param[0].indexOf(",")>-1&&console.warn(`检测到使用JQL语法联表查询时，未使用getTemp先过滤主表数据，在主表数据量大的情况下可能会查询缓慢。
- 如何优化请参考此文档：https://uniapp.dcloud.net.cn/uniCloud/jql?id=lookup-with-temp 
- 如果主表数据量很小请忽略此信息，项目发行时不会出现此提示。`)}return this._database._callCloudFunction({action:o,command:s})}}function Ut(e,t,n){return En(new Om(e,t,n),{get(o,s){let r="db";return o&&o.content&&(r=o.content.$method),Ma(r,s)?Ut({$method:s},o,n):function(){return Ut({$method:s,$param:Ge(Array.from(arguments))},o,n)}}})}function po({path:e,method:t}){return class{constructor(){this.param=Array.from(arguments)}toJSON(){return{$newDb:[...e.map(n=>({$method:n})),{$method:t,$param:this.param}]}}toString(){return JSON.stringify(this.toJSON())}}}function ei(e,t={}){return En(new e(t),{get:(n,o)=>Ma("db",o)?Ut({$method:o},null,n):function(){return Ut({$method:o,$param:Ge(Array.from(arguments))},null,n)}})}class ti extends class{constructor({uniClient:t={},isJQL:n=!1}={}){this._uniClient=t,this._authCallBacks={},this._dbCallBacks={},t._isDefault&&(this._dbCallBacks=mt("_globalUniCloudDatabaseCallback")),n||(this.auth=Zr(this._authCallBacks)),this._isJQL=n,Object.assign(this,Zr(this._dbCallBacks)),this.env=En({},{get:(o,s)=>({$env:s})}),this.Geo=En({},{get:(o,s)=>po({path:["Geo"],method:s})}),this.serverDate=po({path:[],method:"serverDate"}),this.RegExp=po({path:[],method:"RegExp"})}getCloudEnv(t){if(typeof t!="string"||!t.trim())throw new Error("getCloudEnv参数错误");return{$env:t.replace("$cloudEnv_","")}}_callback(t,n){const o=this._dbCallBacks;o[t]&&o[t].forEach(s=>{s(...n)})}_callbackAuth(t,n){const o=this._authCallBacks;o[t]&&o[t].forEach(s=>{s(...n)})}multiSend(){const t=Array.from(arguments),n=t.map(o=>{const s=o.getAction(),r=o.getCommand();if(r.$db[r.$db.length-1].$method!=="getTemp")throw new Error("multiSend只支持子命令内使用getTemp");return{action:s,command:r}});return this._callCloudFunction({multiCommand:n,queryList:t})}}{_parseResult(t){return this._isJQL?t.result:t}_callCloudFunction({action:t,command:n,multiCommand:o,queryList:s}){function r(l,p){if(o&&s)for(let g=0;g<s.length;g++){const _=s[g];_.udb&&typeof _.udb.setResult=="function"&&(p?_.udb.setResult(p):_.udb.setResult(l.result.dataList[g]))}}const i=this,c=this._isJQL?"databaseForJQL":"database";function u(l){return i._callback("error",[l]),se(re(c,"fail"),l).then(()=>se(re(c,"complete"),l)).then(()=>(r(null,l),fe(we,{type:Rr,content:l}),Promise.reject(l)))}const a=se(re(c,"invoke")),f=this._uniClient;return a.then(()=>f.callFunction({name:"DCloud-clientDB",type:Ng,data:{action:t,command:n,multiCommand:o}})).then(l=>{const{code:p,message:g,token:_,tokenExpired:h,systemInfo:d=[]}=l.result;if(d)for(let b=0;b<d.length;b++){const{level:y,message:w,detail:A}=d[b],E=console[y]||console.log;let T="[System Info]"+w;A&&(T=`${T}
详细信息：${A}`),E(T)}if(p)return u(new R({code:p,message:g,requestId:l.requestId}));l.result.errCode=l.result.errCode||l.result.code,l.result.errMsg=l.result.errMsg||l.result.message,_&&h&&(Pa({token:_,tokenExpired:h}),this._callbackAuth("refreshToken",[{token:_,tokenExpired:h}]),this._callback("refreshToken",[{token:_,tokenExpired:h}]),fe(Cn,{token:_,tokenExpired:h}));const m=[{prop:"affectedDocs",tips:"affectedDocs不再推荐使用，请使用inserted/deleted/updated/data.length替代"},{prop:"code",tips:"code不再推荐使用，请使用errCode替代"},{prop:"message",tips:"message不再推荐使用，请使用errMsg替代"}];for(let b=0;b<m.length;b++){const{prop:y,tips:w}=m[b];if(y in l.result){const A=l.result[y];Object.defineProperty(l.result,y,{get:()=>(console.warn(w),A)})}}return function(b){return se(re(c,"success"),b).then(()=>se(re(c,"complete"),b)).then(()=>{r(b,null);const y=i._parseResult(b);return fe(we,{type:Rr,content:y}),Promise.resolve(y)})}(l)},l=>(/fc_function_not_found|FUNCTION_NOT_FOUND/g.test(l.message)&&console.warn("clientDB未初始化，请在web控制台保存一次schema以开启clientDB"),u(new R({code:l.code||"SYSTEM_ERROR",message:l.message,requestId:l.requestId}))))}}const Be="token无效，跳转登录页面",Fa="token过期，跳转登录页面",Tm={TOKEN_INVALID_TOKEN_EXPIRED:Fa,TOKEN_INVALID_INVALID_CLIENTID:Be,TOKEN_INVALID:Be,TOKEN_INVALID_WRONG_TOKEN:Be,TOKEN_INVALID_ANONYMOUS_USER:Be},Vo={"uni-id-token-expired":Fa,"uni-id-check-token-failed":Be,"uni-id-token-not-exist":Be,"uni-id-check-device-feature-failed":Be};function ni(e,t){let n="";return n=e?`${e}/${t}`:t,n.replace(/^\//,"")}function oi(e=[],t=""){const n=[],o=[];return e.forEach(s=>{s.needLogin===!0?n.push(ni(t,s.path)):s.needLogin===!1&&o.push(ni(t,s.path))}),{needLoginPage:n,notNeedLoginPage:o}}function Mt(e){return e.split("?")[0].replace(/^\//,"")}function ks(){return function(e){let t=e&&e.$page&&e.$page.fullPath||"";return t&&(t.charAt(0)!=="/"&&(t="/"+t),t)}(function(){const e=getCurrentPages();return e[e.length-1]}())}function Ha(){return Mt(ks())}function Cm(e="",t={}){if(!e||!(t&&t.list&&t.list.length))return!1;const n=t.list,o=Mt(e);return n.some(s=>s.pagePath===o)}const Em=!!pa.uniIdRouter,{loginPage:Ft,routerNeedLogin:km,resToLogin:$m,needLoginPage:qa,notNeedLoginPage:Rm,loginPageInTabBar:Lm}=function({pages:e=[],subPackages:t=[],uniIdRouter:n={},tabBar:o={}}=pa){const{loginPage:s,needLogin:r=[],resToLogin:i=!0}=n,{needLoginPage:c,notNeedLoginPage:u}=oi(e),{needLoginPage:a,notNeedLoginPage:f}=function(l=[]){const p=[],g=[];return l.forEach(_=>{const{root:h,pages:d=[]}=_,{needLoginPage:m,notNeedLoginPage:b}=oi(d,h);p.push(...m),g.push(...b)}),{needLoginPage:p,notNeedLoginPage:g}}(t);return{loginPage:s,routerNeedLogin:r,resToLogin:i,needLoginPage:[...c,...a],notNeedLoginPage:[...u,...f],loginPageInTabBar:Cm(s,o)}}();if(qa.indexOf(Ft)>-1)throw new Error(`Login page [${Ft}] should not be "needLogin", please check your pages.json`);function Ba(e){const t=Ha();if(e.charAt(0)==="/")return e;const[n,o]=e.split("?"),s=n.replace(/^\//,"").split("/"),r=t.split("/");r.pop();for(let i=0;i<s.length;i++){const c=s[i];c===".."?r.pop():c!=="."&&r.push(c)}return r[0]===""&&r.shift(),"/"+r.join("/")+(o?"?"+o:"")}function Nm(e){const t=Mt(Ba(e));return!(Rm.indexOf(t)>-1)&&(qa.indexOf(t)>-1||km.some(n=>function(o,s){return new RegExp(s).test(o)}(e,n)))}function Ka({redirect:e}){const t=Mt(e),n=Mt(Ft);return Ha()!==n&&t!==n}function Wo({api:e,redirect:t}={}){if(!t||!Ka({redirect:t}))return;const n=function(s,r){return s.charAt(0)!=="/"&&(s="/"+s),r?s.indexOf("?")>-1?s+`&uniIdRedirectUrl=${encodeURIComponent(r)}`:s+`?uniIdRedirectUrl=${encodeURIComponent(r)}`:s}(Ft,t);Lm?e!=="navigateTo"&&e!=="redirectTo"||(e="switchTab"):e==="switchTab"&&(e="navigateTo");const o={navigateTo:U.navigateTo,redirectTo:U.redirectTo,switchTab:U.switchTab,reLaunch:U.reLaunch};setTimeout(()=>{o[e]({url:n})})}function si({url:e}={}){const t={abortLoginPageJump:!1,autoToLoginPage:!1},n=function(){const{token:o,tokenExpired:s}=Vn();let r;if(o){if(s<Date.now()){const i="uni-id-token-expired";r={errCode:i,errMsg:Vo[i]}}}else{const i="uni-id-check-token-failed";r={errCode:i,errMsg:Vo[i]}}return r}();if(Nm(e)&&n){if(n.uniIdRedirectUrl=e,Wt(_t).length>0)return setTimeout(()=>{fe(_t,n)},0),t.abortLoginPageJump=!0,t;t.autoToLoginPage=!0}return t}function Dm(){(function(){const t=ks(),{abortLoginPageJump:n,autoToLoginPage:o}=si({url:t});n||o&&Wo({api:"redirectTo",redirect:t})})();const e=["navigateTo","redirectTo","reLaunch","switchTab"];for(let t=0;t<e.length;t++){const n=e[t];U.addInterceptor(n,{invoke(o){const{abortLoginPageJump:s,autoToLoginPage:r}=si({url:o.url});return s?o:r?(Wo({api:n,redirect:Ba(o.url)}),!1):o}})}}function jm(){this.onResponse(e=>{const{type:t,content:n}=e;let o=!1;switch(t){case"cloudobject":o=function(s){if(typeof s!="object")return!1;const{errCode:r}=s||{};return r in Vo}(n);break;case"clientdb":o=function(s){if(typeof s!="object")return!1;const{errCode:r}=s||{};return r in Tm}(n)}o&&function(s={}){const r=Wt(_t);wa().then(()=>{const i=ks();if(i&&Ka({redirect:i}))return r.length>0?fe(_t,Object.assign({uniIdRedirectUrl:i},s)):void(Ft&&Wo({api:"navigateTo",redirect:i}))})}(n)})}function Um(e){(function(t){t.onResponse=function(n){oo(we,n)},t.offResponse=function(n){so(we,n)}})(e),function(t){t.onNeedLogin=function(n){oo(_t,n)},t.offNeedLogin=function(n){so(_t,n)},Em&&(mt("_globalUniCloudStatus").needLoginInit||(mt("_globalUniCloudStatus").needLoginInit=!0,wa().then(()=>{Dm.call(t)}),$m&&jm.call(t)))}(e),function(t){t.onRefreshToken=function(n){oo(Cn,n)},t.offRefreshToken=function(n){so(Cn,n)}}(e)}let Va;const cn="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Mm=/^(?:[A-Za-z\d+/]{4})*?(?:[A-Za-z\d+/]{2}(?:==)?|[A-Za-z\d+/]{3}=?)?$/;function Fm(){const e=Vn().token||"",t=e.split(".");if(!e||t.length!==3)return{uid:null,role:[],permission:[],tokenExpired:0};let n;try{n=JSON.parse((o=t[1],decodeURIComponent(Va(o).split("").map(function(s){return"%"+("00"+s.charCodeAt(0).toString(16)).slice(-2)}).join(""))))}catch(s){throw new Error("获取当前用户信息出错，详细错误信息为："+s.message)}var o;return n.tokenExpired=1e3*n.exp,delete n.exp,delete n.iat,n}Va=typeof atob!="function"?function(e){if(e=String(e).replace(/[\t\n\f\r ]+/g,""),!Mm.test(e))throw new Error("Failed to execute 'atob' on 'Window': The string to be decoded is not correctly encoded.");var t;e+="==".slice(2-(3&e.length));for(var n,o,s="",r=0;r<e.length;)t=cn.indexOf(e.charAt(r++))<<18|cn.indexOf(e.charAt(r++))<<12|(n=cn.indexOf(e.charAt(r++)))<<6|(o=cn.indexOf(e.charAt(r++))),s+=n===64?String.fromCharCode(t>>16&255):o===64?String.fromCharCode(t>>16&255,t>>8&255):String.fromCharCode(t>>16&255,t>>8&255,255&t);return s}:atob;var Hm=Je(function(e,t){Object.defineProperty(t,"__esModule",{value:!0});const n="chooseAndUploadFile:ok",o="chooseAndUploadFile:fail";function s(i,c){return i.tempFiles.forEach((u,a)=>{u.name||(u.name=u.path.substring(u.path.lastIndexOf("/")+1)),c&&(u.fileType=c),u.cloudPath=Date.now()+"_"+a+u.name.substring(u.name.lastIndexOf("."))}),i.tempFilePaths||(i.tempFilePaths=i.tempFiles.map(u=>u.path)),i}function r(i,c,{onChooseFile:u,onUploadProgress:a}){return c.then(f=>{if(u){const l=u(f);if(l!==void 0)return Promise.resolve(l).then(p=>p===void 0?f:p)}return f}).then(f=>f===!1?{errMsg:n,tempFilePaths:[],tempFiles:[]}:function(l,p,g=5,_){(p=Object.assign({},p)).errMsg=n;const h=p.tempFiles,d=h.length;let m=0;return new Promise(b=>{for(;m<g;)y();function y(){const w=m++;if(w>=d)return void(!h.find(E=>!E.url&&!E.errMsg)&&b(p));const A=h[w];l.uploadFile({filePath:A.path,cloudPath:A.cloudPath,fileType:A.fileType,onUploadProgress(E){E.index=w,E.tempFile=A,E.tempFilePath=A.path,_&&_(E)}}).then(E=>{A.url=E.fileID,w<d&&y()}).catch(E=>{A.errMsg=E.errMsg||E.message,w<d&&y()})}})}(i,f,5,a))}t.initChooseAndUploadFile=function(i){return function(c={type:"all"}){return c.type==="image"?r(i,function(u){const{count:a,sizeType:f,sourceType:l=["album","camera"],extension:p}=u;return new Promise((g,_)=>{U.chooseImage({count:a,sizeType:f,sourceType:l,extension:p,success(h){g(s(h,"image"))},fail(h){_({errMsg:h.errMsg.replace("chooseImage:fail",o)})}})})}(c),c):c.type==="video"?r(i,function(u){const{camera:a,compressed:f,maxDuration:l,sourceType:p=["album","camera"],extension:g}=u;return new Promise((_,h)=>{U.chooseVideo({camera:a,compressed:f,maxDuration:l,sourceType:p,extension:g,success(d){const{tempFilePath:m,duration:b,size:y,height:w,width:A}=d;_(s({errMsg:"chooseVideo:ok",tempFilePaths:[m],tempFiles:[{name:d.tempFile&&d.tempFile.name||"",path:m,size:y,type:d.tempFile&&d.tempFile.type||"",width:A,height:w,duration:b,fileType:"video",cloudPath:""}]},"video"))},fail(d){h({errMsg:d.errMsg.replace("chooseVideo:fail",o)})}})})}(c),c):r(i,function(u){const{count:a,extension:f}=u;return new Promise((l,p)=>{let g=U.chooseFile;if(typeof un<"u"&&typeof un.chooseMessageFile=="function"&&(g=un.chooseMessageFile),typeof g!="function")return p({errMsg:o+" 请指定 type 类型，该平台仅支持选择 image 或 video。"});g({type:"all",count:a,extension:f,success(_){l(s(_))},fail(_){p({errMsg:_.errMsg.replace("chooseFile:fail",o)})}})})}(c),c)}}}),qm=Cg(Hm);const Bm="manual";function Wa(e){return{props:{localdata:{type:Array,default:()=>[]},options:{type:[Object,Array],default:()=>({})},spaceInfo:{type:Object,default:()=>({})},collection:{type:[String,Array],default:""},action:{type:String,default:""},field:{type:String,default:""},orderby:{type:String,default:""},where:{type:[String,Object],default:""},pageData:{type:String,default:"add"},pageCurrent:{type:Number,default:1},pageSize:{type:Number,default:20},getcount:{type:[Boolean,String],default:!1},gettree:{type:[Boolean,String],default:!1},gettreepath:{type:[Boolean,String],default:!1},startwith:{type:String,default:""},limitlevel:{type:Number,default:10},groupby:{type:String,default:""},groupField:{type:String,default:""},distinct:{type:[Boolean,String],default:!1},foreignKey:{type:String,default:""},loadtime:{type:String,default:"auto"},manual:{type:Boolean,default:!1}},data:()=>({mixinDatacomLoading:!1,mixinDatacomHasMore:!1,mixinDatacomResData:[],mixinDatacomErrorMessage:"",mixinDatacomPage:{}}),created(){this.mixinDatacomPage={current:this.pageCurrent,size:this.pageSize,count:0},this.$watch(()=>{var t=[];return["pageCurrent","pageSize","localdata","collection","action","field","orderby","where","getont","getcount","gettree","groupby","groupField","distinct"].forEach(n=>{t.push(this[n])}),t},(t,n)=>{if(this.loadtime===Bm)return;let o=!1;const s=[];for(let r=2;r<t.length;r++)t[r]!==n[r]&&(s.push(t[r]),o=!0);t[0]!==n[0]&&(this.mixinDatacomPage.current=this.pageCurrent),this.mixinDatacomPage.size=this.pageSize,this.onMixinDatacomPropsChange(o,s)})},methods:{onMixinDatacomPropsChange(t,n){},mixinDatacomEasyGet({getone:t=!1,success:n,fail:o}={}){this.mixinDatacomLoading||(this.mixinDatacomLoading=!0,this.mixinDatacomErrorMessage="",this.mixinDatacomGet().then(s=>{this.mixinDatacomLoading=!1;const{data:r,count:i}=s.result;this.getcount&&(this.mixinDatacomPage.count=i),this.mixinDatacomHasMore=r.length<this.pageSize;const c=t?r.length?r[0]:void 0:r;this.mixinDatacomResData=c,n&&n(c)}).catch(s=>{this.mixinDatacomLoading=!1,this.mixinDatacomErrorMessage=s,o&&o(s)}))},mixinDatacomGet(t={}){let n=e.database(this.spaceInfo);const o=t.action||this.action;o&&(n=n.action(o));const s=t.collection||this.collection;n=Array.isArray(s)?n.collection(...s):n.collection(s);const r=t.where||this.where;r&&Object.keys(r).length&&(n=n.where(r));const i=t.field||this.field;i&&(n=n.field(i));const c=t.foreignKey||this.foreignKey;c&&(n=n.foreignKey(c));const u=t.groupby||this.groupby;u&&(n=n.groupBy(u));const a=t.groupField||this.groupField;a&&(n=n.groupField(a)),(t.distinct!==void 0?t.distinct:this.distinct)===!0&&(n=n.distinct());const f=t.orderby||this.orderby;f&&(n=n.orderBy(f));const l=t.pageCurrent!==void 0?t.pageCurrent:this.mixinDatacomPage.current,p=t.pageSize!==void 0?t.pageSize:this.mixinDatacomPage.size,g=t.getcount!==void 0?t.getcount:this.getcount,_=t.gettree!==void 0?t.gettree:this.gettree,h=t.gettreepath!==void 0?t.gettreepath:this.gettreepath,d={getCount:g},m={limitLevel:t.limitlevel!==void 0?t.limitlevel:this.limitlevel,startWith:t.startwith!==void 0?t.startwith:this.startwith};return _&&(d.getTree=m),h&&(d.getTreePath=m),n=n.skip(p*(l-1)).limit(p).get(d),n}}}}function Km(e){return function(t,n={}){n=function(u,a={}){return u.customUI=a.customUI||u.customUI,u.parseSystemError=a.parseSystemError||u.parseSystemError,Object.assign(u.loadingOptions,a.loadingOptions),Object.assign(u.errorOptions,a.errorOptions),typeof a.secretMethods=="object"&&(u.secretMethods=a.secretMethods),u}({customUI:!1,loadingOptions:{title:"加载中...",mask:!0},errorOptions:{type:"modal",retry:!1}},n);const{customUI:o,loadingOptions:s,errorOptions:r,parseSystemError:i}=n,c=!o;return new Proxy({},{get:(u,a)=>function({fn:f,interceptorName:l,getCallbackArgs:p}={}){return async function(...g){const _=p?p({params:g}):{};let h,d;try{return await se(re(l,"invoke"),{..._}),h=await f(...g),await se(re(l,"success"),{..._,result:h}),h}catch(m){throw d=m,await se(re(l,"fail"),{..._,error:d}),d}finally{await se(re(l,"complete"),d?{..._,error:d}:{..._,result:h})}}}({fn:async function f(...l){let p;c&&U.showLoading({title:s.title,mask:s.mask});const g={name:t,type:Lg,data:{method:a,params:l}};typeof n.secretMethods=="object"&&function(y,w){const A=w.data.method,E=y.secretMethods||{},T=E[A]||E["*"];T&&(w.secretType=T)}(n,g);let _=!1;try{p=await e.callFunction(g)}catch(y){_=!0,p={result:new R(y)}}const{errSubject:h,errCode:d,errMsg:m,newToken:b}=p.result||{};if(c&&U.hideLoading(),b&&b.token&&b.tokenExpired&&(Pa(b),fe(Cn,{...b})),d){let y=m;if(_&&i&&(y=(await i({objectName:t,methodName:a,params:l,errSubject:h,errCode:d,errMsg:m})).errMsg||m),c)if(r.type==="toast")U.showToast({title:y,icon:"none"});else{if(r.type!=="modal")throw new Error(`Invalid errorOptions.type: ${r.type}`);{const{confirm:A}=await async function({title:E,content:T,showCancel:F,cancelText:C,confirmText:O}={}){return new Promise((M,W)=>{U.showModal({title:E,content:T,showCancel:F,cancelText:C,confirmText:O,success(Z){M(Z)},fail(){M({confirm:!1,cancel:!0})}})})}({title:"提示",content:y,showCancel:r.retry,cancelText:"取消",confirmText:r.retry?"重试":"确定"});if(r.retry&&A)return f(...l)}}const w=new R({subject:h,code:d,message:m,requestId:p.requestId});throw w.detail=p.result,fe(we,{type:Lr,content:w}),w}return fe(we,{type:Lr,content:p.result}),p.result},interceptorName:"callObject",getCallbackArgs:function({params:f}={}){return{objectName:t,methodName:a,params:f}}})})}}function za(e){return mt("_globalUniCloudSecureNetworkCache__{spaceId}".replace("{spaceId}",e.config.spaceId))}async function Vm({openid:e,callLoginByWeixin:t=!1}={}){const n=za(this);if(e&&t)throw new Error("[SecureNetwork] openid and callLoginByWeixin cannot be passed at the same time");if(e)return n.mpWeixinOpenid=e,{};const o=await new Promise((r,i)=>{U.login({success(c){r(c.code)},fail(c){i(new Error(c.errMsg))}})});return await this.importObject("uni-id-co",{customUI:!0}).secureNetworkHandshakeByWeixin({code:o,callLoginByWeixin:t}),n.mpWeixinCode=o,{code:o}}async function Wm(e){const t=za(this);return t.initPromise||(t.initPromise=Vm.call(this,e)),t.initPromise}function zm(e){return function({openid:t,callLoginByWeixin:n=!1}={}){return Wm.call(e,{openid:t,callLoginByWeixin:n})}}function ri(e){const t={getSystemInfo:U.getSystemInfo,getPushClientId:U.getPushClientId};return function(n){return new Promise((o,s)=>{t[e]({...n,success(r){o(r)},fail(r){s(r)}})})}}class Jm extends class{constructor(){this._callback={}}addListener(t,n){this._callback[t]||(this._callback[t]=[]),this._callback[t].push(n)}on(t,n){return this.addListener(t,n)}removeListener(t,n){if(!n)throw new Error('The "listener" argument must be of type function. Received undefined');const o=this._callback[t];if(!o)return;const s=function(r,i){for(let c=r.length-1;c>=0;c--)if(r[c]===i)return c;return-1}(o,n);o.splice(s,1)}off(t,n){return this.removeListener(t,n)}removeAllListener(t){delete this._callback[t]}emit(t,...n){const o=this._callback[t];if(o)for(let s=0;s<o.length;s++)o[s](...n)}}{constructor(){super(),this._uniPushMessageCallback=this._receivePushMessage.bind(this),this._currentMessageId=-1,this._payloadQueue=[]}init(){return Promise.all([ri("getSystemInfo")(),ri("getPushClientId")()]).then(([{appId:t}={},{cid:n}={}]=[])=>{if(!t)throw new Error("Invalid appId, please check the manifest.json file");if(!n)throw new Error("Invalid push client id");this._appId=t,this._pushClientId=n,this._seqId=Date.now()+"-"+Math.floor(9e5*Math.random()+1e5),this.emit("open"),this._initMessageListener()},t=>{throw this.emit("error",t),this.close(),t})}async open(){return this.init()}_isUniCloudSSE(t){if(t.type!=="receive")return!1;const n=t&&t.data&&t.data.payload;return!(!n||n.channel!=="UNI_CLOUD_SSE"||n.seqId!==this._seqId)}_receivePushMessage(t){if(!this._isUniCloudSSE(t))return;const n=t&&t.data&&t.data.payload,{action:o,messageId:s,message:r}=n;this._payloadQueue.push({action:o,messageId:s,message:r}),this._consumMessage()}_consumMessage(){for(;;){const t=this._payloadQueue.find(n=>n.messageId===this._currentMessageId+1);if(!t)break;this._currentMessageId++,this._parseMessagePayload(t)}}_parseMessagePayload(t){const{action:n,messageId:o,message:s}=t;n==="end"?this._end({messageId:o,message:s}):n==="message"&&this._appendMessage({messageId:o,message:s})}_appendMessage({messageId:t,message:n}={}){this.emit("message",n)}_end({messageId:t,message:n}={}){this.emit("end",n),this.close()}_initMessageListener(){U.onPushMessage(this._uniPushMessageCallback)}_destroy(){U.offPushMessage(this._uniPushMessageCallback)}toJSON(){return{appId:this._appId,pushClientId:this._pushClientId,seqId:this._seqId}}close(){this._destroy(),this.emit("close")}}async function Gm(e,t){const n=`http://${e}:${t}/system/ping`;try{const s=await(o={url:n,timeout:500},new Promise((r,i)=>{oe.request({...o,success(c){r(c)},fail(c){i(c)}})}));return!(!s.data||s.data.code!==0)}catch{return!1}var o}async function Ym(e){const t=e.__dev__;if(!t.debugInfo)return;const{address:n,servePort:o}=t.debugInfo,{address:s}=await async function(c,u){let a;for(let f=0;f<c.length;f++){const l=c[f];if(await Gm(l,u)){a=l;break}}return{address:a,port:u}}(n,o);if(s)return t.localAddress=s,void(t.localPort=o);const r=console.warn;let i="";if(t.debugInfo.initialLaunchType==="remote"?(t.debugInfo.forceRemote=!0,i=`当前客户端和HBuilderX不在同一局域网下（或其他网络原因无法连接HBuilderX），uniCloud本地调试服务不对当前客户端生效。
- 如果不使用uniCloud本地调试服务，请直接忽略此信息。
- 如需使用uniCloud本地调试服务，请将客户端与主机连接到同一局域网下并重新运行到客户端。`):i=`无法连接uniCloud本地调试服务，请检查当前客户端是否与主机在同一局域网下。
- 如需使用uniCloud本地调试服务，请将客户端与主机连接到同一局域网下并重新运行到客户端。`,i+=`
- 如果在HBuilderX开启的状态下切换过网络环境，请重启HBuilderX后再试
- 检查系统防火墙是否拦截了HBuilderX自带的nodejs
- 检查是否错误的使用拦截器修改uni.request方法的参数`,gt.indexOf("mp-")===0&&(i+=`
- 小程序中如何使用uniCloud，请参考：https://uniapp.dcloud.net.cn/uniCloud/publish.html#useinmp`),!t.debugInfo.forceRemote)throw new Error(i);r(i)}function Qm(e){e._initPromiseHub||(e._initPromiseHub=new xs({createPromise:function(){let t=Promise.resolve();var n;n=1,t=new Promise(s=>{setTimeout(()=>{s()},n)});const o=e.auth();return t.then(()=>o.getLoginState()).then(s=>s?Promise.resolve():o.signInAnonymously())}}))}const Xm={tcb:zr,tencent:zr,aliyun:zg,private:mm};let he=new class{init(e){let t={};const n=Xm[e.provider];if(!n)throw new Error("未提供正确的provider参数");return t=n.init(e),function(o){const s={};o.__dev__=s,s.debugLog=gt==="app";const r=Hg;r&&!r.code&&(s.debugInfo=r);const i=new xs({createPromise:function(){return Ym(o)}});s.initLocalNetwork=function(){return i.exec()}}(t),Qm(t),Am(t),function(o){const s=o.uploadFile;o.uploadFile=function(r){return s.call(this,r)}}(t),function(o){o.database=function(s){if(s&&Object.keys(s).length>0)return o.init(s).database();if(this._database)return this._database;const r=ei(ti,{uniClient:o});return this._database=r,r},o.databaseForJQL=function(s){if(s&&Object.keys(s).length>0)return o.init(s).databaseForJQL();if(this._databaseForJQL)return this._databaseForJQL;const r=ei(ti,{uniClient:o,isJQL:!0});return this._databaseForJQL=r,r}}(t),function(o){o.getCurrentUserInfo=Fm,o.chooseAndUploadFile=qm.initChooseAndUploadFile(o),Object.assign(o,{get mixinDatacom(){return Wa(o)}}),o.SSEChannel=Jm,o.initSecureNetworkByWeixin=zm(o),o.importObject=Km(o)}(t),["callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","chooseAndUploadFile"].forEach(o=>{if(!t[o])return;const s=t[o];t[o]=function(){return s.apply(t,Array.from(arguments))},t[o]=function(r,i){return function(c){let u=!1;i==="callFunction"&&(u=(c&&c.type||Cr)!==Cr);const a=i==="callFunction"&&!u,f=this._initPromiseHub.exec();c=c||{};const{success:l,fail:p,complete:g}=va(c),_=f.then(()=>u?Promise.resolve():se(re(i,"invoke"),c)).then(()=>r.call(this,c)).then(h=>u?Promise.resolve(h):se(re(i,"success"),h).then(()=>se(re(i,"complete"),h)).then(()=>(a&&fe(we,{type:sn,content:h}),Promise.resolve(h))),h=>u?Promise.reject(h):se(re(i,"fail"),h).then(()=>se(re(i,"complete"),h)).then(()=>(fe(we,{type:sn,content:h}),Promise.reject(h))));if(!(l||p||g))return _;_.then(h=>{l&&l(h),g&&g(h),a&&fe(we,{type:sn,content:h})},h=>{p&&p(h),g&&g(h),a&&fe(we,{type:sn,content:h})})}}(t[o],o).bind(t)}),t.init=this.init,t}};(()=>{const e=_a;let t={};if(e&&e.length===1)t=e[0],he=he.init(t),he._isDefault=!0;else{const n=["auth","callFunction","uploadFile","deleteFile","getTempFileURL","downloadFile","database","getCurrentUSerInfo","importObject"];let o;o=e&&e.length>0?"应用有多个服务空间，请通过uniCloud.init方法指定要使用的服务空间":"应用未关联服务空间，请在uniCloud目录右键关联服务空间",n.forEach(s=>{he[s]=function(){return console.error(o),Promise.reject(new R({code:"SYS_ERR",message:o}))}})}Object.assign(he,{get mixinDatacom(){return Wa(he)}}),Um(he),he.addInterceptor=ba,he.removeInterceptor=Bg,he.interceptObject=Kg})();exports.Pinia=Ig;exports._export_sfc=Ja;exports.createPinia=ia;exports.createSSRApp=ch;exports.defineStore=ua;exports.o=sh;exports.onHide=cg;exports.onLaunch=ag;exports.onShow=ig;exports.ref=Vt;exports.resolveComponent=Hd;exports.storeToRefs=da;exports.t=rh;exports.unref=as;
